---
title: "μ λ„λ¦­(Generic)μ΄λ€?"
date: 2022-02-28
tags: ["Java", "Generic"]
draft: false
---

# μ λ„λ¦­μ΄λ€?
μ λ„λ¦­μ΄λ€ λ¬΄μ—‡μΌκΉμ”?? μ λ„λ¦­μ΄ λ¬΄μ—‡μΈμ§€ λ°λΌλ„ μλ°” ν”„λ΅κ·Έλλ°μ„ ν•λ©° `<T>`, `<E>`μ™€ κ°™μ€ λ¬Έμλ“¤μ„ μ ‘ν•΄λ΄¤μ„ κ²ƒμ…λ‹λ‹¤.
λ”± λ΄λ„ μ–΄λ ¤μ›λ³΄μ΄λ” μ΄κ²ƒ, μ΄λ¬ν• κ²ƒλ“¤μ„ μ°λ¦¬λ” μ λ„λ¦­μ΄λΌκ³  ν•©λ‹λ‹¤.

κ·ΈλΌ μ λ„λ¦­μ— λ€ν•΄ μ•μ•„λ³΄λ„λ΅ ν•κ² μµλ‹λ‹¤.

μ λ„λ¦­μ€ ν•λ‚μ κ°’μ΄ μ—¬λ¬ μλ£ν•μΌλ΅ μ“°μΌ μ μλ„λ΅ ν•λ” λ°©λ²•μ„ μλ―Έν•©λ‹λ‹¤.
λ€ν‘μ μΈ μμ‹λ¥Ό λ“¤μ–΄λ³΄λ©΄ `List`κ°€ μμµλ‹λ‹¤. `List` μΈν„°νμ΄μ¤μ™€ `ArrayList`μ κµ¬ν„μ²΄λ¥Ό λ³΄λ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
```java
public interface List<E> extends Collection<E> {}

public class ArrayList<E> extends AbstractList<E>
  implements List<E>, RandomAccess, Cloneable, java.io.Serializable {)
```
μ΄λ¬ν• μΈν„°νμ΄μ¤μ™€ κµ¬ν„μ²΄λ¥Ό ν†µν•΄ μ°λ¦¬κ°€ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  λ–„λ” μ–΄λ–¤ μ‹μΌλ΅ μƒμ„±ν•λ‚μ”?
μ •μν•μ λ¦¬μ¤νΈμ™€ λ¬Έμμ—΄μ λ¦¬μ¤νΈλ¥Ό μƒμ„±ν•λ©΄ μ•„λ§ μ•„λμ μ½”λ“μ™€ κ°™μ΄ μƒμ„±ν•μ€μ„ κ²ƒμ…λ‹λ‹¤.
```java
List<Integer> integers = new ArrayList<>();
List<String> strings = new ArrayList<>();
```
μ΄μ™€ κ°™μ΄ `List<E>`μ—μ„ `<E>`μ„μΉμ— Integerνƒ€μ…μ΄ λ“¤μ–΄κ°€λ©΄ μ •μν• λ¦¬μ¤νΈ, Stringνƒ€μ…μ΄ λ“¤μ–΄κ°€λ©΄ λ¬Έμμ—΄ λ¦¬μ¤νΈκ°€ μƒμ„±λ©λ‹λ‹¤.

μ΄λ ‡κ² **ν΄λμ¤ λ‚΄λ¶€μ—μ„ μ§€μ •ν•λ” κ²ƒμ΄ μ•„λ‹ μ™Έλ¶€μ—μ„ μ‚¬μ©μμ— μν•΄ νƒ€μ…μ„ μ§€μ •ν•λ” κ²ƒμ„ μ λ„λ¦­(Generic)μ΄λΌκ³  ν•©λ‹λ‹¤.**


# μ λ„λ¦­μ μ¥μ 
- μλ»λ νƒ€μ…μ΄ λ“¤μ–΄μ¬ μ μλ” κ²ƒμ„ μ»΄νμΌ λ‹¨κ³„μ—μ„ λ°©μ§€ν•  μ μλ‹¤.
- νΉμ • νƒ€μ…μΌλ΅ μ ν•ν•¨μΌλ΅μ¨ νƒ€μ…μ μ•μ •μ„±μ„ μ κ³µν•λ‹¤.
- νƒ€μ… μ²΄ν¬μ™€ ν•λ³€ν™μ„ μƒλµν•  μ μμΌλ―€λ΅ μ½”λ“κ°€ κ°„κ²°ν•΄μ§„λ‹¤.
- λΉ„μ·ν• κΈ°λ¥μ„ μ§€μ›ν•λ” κ²½μ° μ½”λ“μ μ¬μ‚¬μ©μ„±μ΄ λ†’μ•„μ§„λ‹¤.

# μ λ„λ¦­ μ‚¬μ©ν•κΈ°
## μ λ„λ¦­ νƒ€μ…
μΌλ°μ μΌλ΅ μ λ„λ¦­μ„ μ‚¬μ©ν•  λ•λ” μ•„λμ νƒ€μ…λ“¤μ„ λ§μ΄ μ‚¬μ©ν•©λ‹λ‹¤.
κΌ­ ν•΄λ‹Ή νƒ€μ…κ³Ό μΌμΉν•  ν•„μ”λ” μ—†μ§€λ§ μ•”λ¬µμ μΌλ΅ μ •ν•΄μ§„ κ·μΉ™μΈ λ§νΌ μ°λ¦¬λ„ μ§€ν‚¤λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.π‘π»

|  νƒ€μ…   |   λ‚΄μ©    |
|:-----:|:-------:|
| `<T>` |  Type   |
| `<E>` | Element |
| `<K>` |   Key   |
| `<V>` |  Value  |
| `<N>` | Number  |

## ν΄λμ¤μ™€ μΈν„°νμ΄μ¤ μ„ μ–Έ
```java
public class GenericClass<T> { }
public interface GenericInterface<T> { }
```
μ λ„λ¦­ ν΄λμ¤μ™€ μΈν„°νμ΄μ¤λ” μ•„λμ™€ κ°™μ΄ μ„ μ–Έμ„ ν•©λ‹λ‹¤. μ΄λ• μ λ„λ¦­ νƒ€μ…μ κ²½μ° 1κ°κ°€ μ•„λ‹ λ‘κ° μ΄μƒμΌλ΅λ„ λ‘ μ μμµλ‹λ‹¤.
2κ° μ΄μƒμ μ λ„λ¦­νƒ€μ…μ„ μ‚¬μ©ν•λ” λ€ν‘μ μΈ μλ΅λ” Map μΈν„°νμ΄μ¤μ™€ κµ¬ν„μ²΄κ°€ μμµλ‹λ‹¤.

> κ°μ²΄ μƒμ„±μ„ ν•  λ–„ μ λ„λ¦­ νƒ€μ…μ— μ…λ ¥ν•  νƒ€μ…μ κ²½μ° int,double,long,charκ³Ό κ°™μ€ κΈ°λ³Έ νƒ€μ…(Primitive type)μ€
> λ“¤μ–΄κ° μκ°€ μ—†μΌλ©°, μ°Έμ΅° νƒ€μ…(Reference type)λ§ λ“¤μ–΄κ° μ μμµλ‹λ‹¤.
> λ§μ•½ primitive typeμ„ μ‚¬μ©ν•κ³  μ‹¶λ‹¤λ©΄ wrapper classλ¥Ό μ‚¬μ©ν•΄μ•Όν•©λ‹λ‹¤.

μ‚¬μ© μμ‹λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
```java
public class GenericClass<E> {
  private E element;
}

public class Main {
    GenericClass<Integer> integerGenericClass = new GenericClass<>();
    GenericClass<String> stringGenericClass = new GenericClass<>();
}
```

## μ λ„λ¦­ λ©”μ„λ“
μ λ„λ¦­μ„ μ‚¬μ©ν• ν΄λμ¤μ™€ μΈν„°νμ΄μ¤μ κ²½μ°, ν΄λμ¤μ™€ μΈν„°νμ΄μ¤ λ‚΄μ—μ„ ν•΄λ‹Ή μ λ„λ¦­μ„ μ‚¬μ©ν•  μ μμ—μµλ‹λ‹¤.
μ λ„λ¦­μ€ ν΄λμ¤ λΏλ§ μ•„λ‹λΌ νΉμ • λ©”μ„λ“ λ‚΄μ—μ„λ§ μ‚¬μ©ν•  μλ„ μμµλ‹λ‹¤.
```java
public <T> T genericMethod(T o) { }
```
> μ λ„λ¦­ λ©”μ„λ“μ κ²½μ° λ°ν™νƒ€μ… μ΄μ „μ— μ λ„λ¦­νƒ€μ…(`<T>`)μ„ μ„ μ–Έν•΄μ¤μ•Ό ν•©λ‹λ‹¤.

μ‚¬μ© μμ‹λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
```java
public static void main(String[] args) {
    GenericTest genericTest = new GenericTest();
    System.out.println(genericTest.genericMethod("Test").getClass());
    // result : class java.lang.String
    System.out.println(genericTest.genericMethod(123).getClass());
    // result : class java.lang.Integer
}
```

> λ§μ•½ **μ λ„λ¦­ λ©”μ„λ“λ¥Ό μ •μ (static) λ©”μ„λ“λ΅ λ§λ“¤ κ²½μ°, μ λ„λ¦­ ν΄λμ¤μ— μ„μΉν• μ λ„λ¦­κ³Ό λ‹¤λ¥Έ μ λ„λ¦­μ„ μ‚¬μ©ν•΄μ•Όν•©λ‹λ‹¤.**
> κ·Έλ ‡μ§€ μ•μ„ κ²½μ° ν΄λμ¤μ— μ •μλ μ λ„λ¦­ νƒ€μ…μ΄ μ§€μ •λμ§€ μ•μ•„ μ—λ¬κ°€ λ°μƒν•©λ‹λ‹¤.

## μ ν•λ μ λ„λ¦­κ³Ό μ™€μΌλ“ μΉ΄λ“
μ λ„λ¦­ λ²”μ„λ¥Ό μ ν•ν•κ³  μ‹¶λ‹¤λ©΄ `extends`, `super`, μ™€μΌλ“μΉ΄λ“(`?`)λ¥Ό μ‚¬μ©ν•΄μ•Όν•©λ‹λ‹¤.

λ²”μ„ μ§€μ •μ λ°©λ²•λ“¤μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
```java
<K extends T>	// Tμ™€ Tμ μμ† νƒ€μ…λ§ κ°€λ¥ (Kλ” λ“¤μ–΄μ¤λ” νƒ€μ…μΌλ΅ μ§€μ • λ¨)
<K super T>	// Tμ™€ Tμ λ¶€λ¨(μ΅°μƒ) νƒ€μ…λ§ κ°€λ¥ (Kλ” λ“¤μ–΄μ¤λ” νƒ€μ…μΌλ΅ μ§€μ • λ¨)

<? extends T>	// Tμ™€ Tμ μμ† νƒ€μ…λ§ κ°€λ¥
<? super T>	// Tμ™€ Tμ λ¶€λ¨(μ΅°μƒ) νƒ€μ…λ§ κ°€λ¥
<?>		// λ¨λ“  νƒ€μ… κ°€λ¥. <? extends Object>λ‘ κ°™μ€ μλ―Έ
```

> μ΄ λ–„ `extends`λ” μƒν• κ²½κ³„, `super`λ” ν•ν• κ²½κ³„λΌκ³  ν•©λ‹λ‹¤.

# Reference
- https://st-lab.tistory.com/153
