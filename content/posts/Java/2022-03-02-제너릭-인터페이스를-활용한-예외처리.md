---
title: "utilsμ μ΄ν•΄ & μ λ„λ¦­ μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν• μμ™Έμ²λ¦¬"
date: 2022-03-02
tags: ["Java"]
draft: false
---

# Utilsμ μ΄ν•΄

μ°μ•„ν•ν…ν¬μ½”μ¤μ λ΅λ λ―Έμ…μ„ μ§„ν–‰ν•λμ¤‘ λ‹¤μκ³Ό κ°™μ€ ν”Όλ“λ°±μ„ λ°›μ•μµλ‹λ‹¤.

![](image/20220302_μ λ„λ¦­_μΈν„°νμ΄μ¤λ¥Ό_μ΄μ©ν•_μμ™Έμ²λ¦¬/μ λ„λ¦­μΈν„°νμ΄μ¤_μμ™Έμ²λ¦¬.png)

μ •λ¦¬λ¥Ό ν•΄λ³΄λ©΄ `utilsμ—λ” λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό μ§μ ‘μ μΈ κ΄€κ³„κ°€ μ—†κ³  λ²”μ©μ μΌλ΅ μ‚¬μ©ν•  μ μλ” λ„κµ¬λ“¤μ΄ μμ–΄μ•Όν•λ‹¤.`λ” ν”Όλ“λ°±μ…λ‹λ‹¤.
ν•μ§€λ§ μ κ°€ `utils` λ””λ ‰ν„°λ¦¬μ— μ‘μ„±ν• `InputValidation.java` νμΌμ—μ„λ” μ–΄λ–¤ μ‘μ—…λ“¤μ„ ν•μ€μ„κΉμ”?

ν•΄λ‹Ή νμΌμ— μ„μΉν• λ©”μ„λ“λ“¤μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

- μ…λ ¥ κ°’μ΄ μ •μκ°€ μ•„λ‹κ²½μ° μμ™Έμƒν™© throw
- μ…λ ¥ κΈμ•΅μ΄ 1000μ› μ΄ν•μΌ κ²½μ° μμ™Έμƒν™© throw
- λ‹Ήμ²¨λ²νΈμ μ…λ ¥κ°’μ΄ 6κ° μ΄ν•μΌ κ²½μ° μμ™Έμƒν™© throw
- κ°κ°μ μ…λ ¥κ°’μ„ integer λλ” Set<Integer>μΌλ΅ λ³€κ²½ν•μ—¬ κ°’μ„ λ°ν™

ν•΄λ‹Ή λ©”μ„λ“μ μ‘μ—… λ‚΄μ©μ„ λ³΄λ©΄ `μ…λ ¥ κΈμ•΅μ΄ 1000μ› μ΄ν•μΌ κ²½μ° μμ™Έμƒν™© throw`, `λ‹Ήμ²¨λ²νΈμ μ…λ ¥κ°’μ΄ 6κ° μ΄ν•μΌ κ²½μ° μμ™Έμƒν™© throw`μ κ²½μ°λ”
ν™•μ‹¤ν λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό μ§μ ‘μ μΈ κ΄€κ³„λ¥Ό κ°–κ³  μλ” κ²ƒμ„ μ• μ μμµλ‹λ‹¤.
λν• `κ°κ°μ μ…λ ¥κ°’μ„ integer λλ” Set<Integer>μΌλ΅ λ³€κ²½ν•μ—¬ κ°’μ„ λ°ν™`λ„ μ–΄λ–»κ² λ³΄λ©΄ viewμ—μ„ μ…λ ¥μ„ λ°›λ” μ‘μ—… λΏλ§ μ•„λ‹λΌ
λΉ„μ¦λ‹μ¤ λ΅μ§μ—μ„ μ‹¤μ λ΅ μ‚¬μ©ν•  κ°’λ“¤μ„ κ°€κ³µν•λ” μΌμ„ ν•κ³ μλ‹¤κ³  λ³Ό μ μμµλ‹λ‹¤.

μ΄λ¬ν• λ‚΄μ©λ“¤μ€ Utilsκ°€ μ•„λ‹ κ°κ°μ domainμ— μ„μΉμ‹ν‚¤λ” κ²ƒμ΄ λ§μµλ‹λ‹¤. μ¦‰, `μ…λ ¥ κΈμ•΅μ΄ 1000μ› μ΄ν•μΌ κ²½μ° μμ™Έμƒν™© throw`μ κ²½μ°λ”
μ‹¤μ§μ μΌλ΅ κΈμ•΅μ„ μ‚¬μ©ν•λ” `Store`ν΄λμ¤μ—, `λ‹Ήμ²¨λ²νΈμ μ…λ ¥κ°’μ΄ 6κ° μ΄ν•μΌ κ²½μ° μμ™Έμƒν™© throw`μ€ μ‹¤μ§μ μΌλ΅ λ‹Ήμ²¨λ²νΈλ¥Ό μ…λ ¥λ°›μ•„ μ €μ¥μ„ ν•λ” `WinningNumbers`μ— μ„μΉν•μ—¬μ•Όν•©λ‹λ‹¤.

> π“ utilsμ—λ” λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό μ§μ ‘μ μΈ κ΄€κ³„κ°€ μ—†κ³  λ²”μ©μ μΌλ΅ μ‚¬μ©ν•  μ μλ” λ„κµ¬λ“¤μ΄ μμ–΄μ•Όν•λ‹¤.

# μ λ„λ¦­ μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν• μμ™Έμ²λ¦¬
μ•μ„ μ†κ°ν• utilsμ— μ„μΉν•μ€λ `InputValidation.java`μ λ©”μ„λ“λ“¤μ„ κ°κ°μ domainμ— λ¶„λ¦¬λ¥Ό ν•λ‹¤λ³΄λ‹,
InputViewμ—μ„ μμ™Έλ¥Ό μ΅κ³  λ‹¤μ‹ μ…λ ¥μ„ λ°›μ•„μ£Όλ” λ©”μ„λ“λ¥Ό νΈμ¶ν•λ”λ° μ‚¬μ©ν–λ `try-catch`κ°€ μ»¨νΈλ΅¤λ¬λ΅ μ΄λ™ν•κ² λμ—μµλ‹λ‹¤.

μ»¨νΈλ΅¤λ¬μ—μ„ κ°κ°μ μ…λ ¥μ— λ”°λΌ μƒμ„±λλ” `try-catch`λ¬Έλ“¤μ„ controllerμ½”λ“λ¥Ό λ”μ± λ³µμ΅ν•΄λ³΄μ΄κ² ν•λ‹¤λ” μƒκ°μ΄ λ“¤μ—μµλ‹λ‹¤.

```java
    public static int inputPrice() {
        try {
            System.out.println(INPUT_PRICE);
            return InputValidation.validatePrice(scanner.nextLine());
        } catch (IllegalArgumentException e) {
            System.out.println(e.getMessage());
            return inputPrice();
        }
    }

    public static Set<Integer> inputWinningLottoNumbers() {
        try {
            System.out.println(INPUT_WINNING_LOTTO_NUMBERS);
            return InputValidation.validateWinningNumber(scanner.nextLine());
        } catch (IllegalArgumentException e) {
            System.out.println(e.getMessage());
            return inputWinningLottoNumbers();
        }
    }

    public static int inputBonus() {
        try {
            System.out.println(INPUT_BONUS_NUMBER);
            return InputValidation.validateBonusNumber(scanner.nextLine());
        } catch (IllegalArgumentException e) {
            System.out.println(e.getMessage());
            return inputBonus();
        }
    }
```

ν•΄λ‹Ή μ½”λ“λ¥Ό μ¤„μ—¬λ³΄κ³ μ λ‹¤λ¥Έ ν¬λ£¨λ“¤μ€ μ–΄λ– ν• λ°©λ²•μΌλ΅ ν•΄λ‹Ή λ΅μ§μ„ μ‘μ„±ν•μ€λ”κ°€ ν¬λ£¨λ“¤μ μ½”λ“λ¥Ό κµ¬κ²½ν•λμ¤‘
μ λ„λ¦­ μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•μ—¬ λ°λ³µλ `try-catch`λ¬Έμ„ μ¤„μΈ [ν•„μ¦μ λ―Έμ… μ½”λ“](https://github.com/progress0407/java-lotto/tree/step1) λ¥Ό λ΄¤μµλ‹λ‹¤.

ν•„μ¦μ μ½”λ“λ¥Ό λ³΄κ³  μ €μ μ½”λ“μ—λ„ λ°μμ„ ν•΄λ³΄λ©° `try-catch`μ λ°λ³µμ„ μ¤„μ—¬λ΄¤μµλ‹λ‹¤.

```java
public class InputView {
  ...

    public interface IndividualInput<T> {
        T get();
    }

    public static <T> T commonInputProcess(IndividualInput<T> individualInputs) {
        try {
            return individualInputs.get();
        } catch (IllegalArgumentException e) {
            System.out.println(e.getMessage());
            return commonInputProcess(individualInputs);
        }
    }
  ...
}

public class LottoGameController {
    public void run() {
        final Lottos purchasedLotto = InputView.commonInputProcess(
                () -> Store.purchaseLottos(InputView.inputPrice()));
      ...
    }
}
```
μ½”λ“λ” μ„μ™€ κ°™μ΄ InputViewμ— μ λ„λ¦­ μΈν„°νμ΄μ¤μ™€ `try-catch`λ¥Ό μ²λ¦¬ν•΄μ£Όλ” μ λ„λ¦­ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•΄μ£Όλ©΄
ν•΄λ‹Ή λ©”μ„λ“λ¥Ό ν†µν•΄ λ°λ³µλ `try-catch`λ¬Έμ„ μ κ±°ν•  μ μμ—μµλ‹λ‹¤.

> μμ„Έν• μ½”λ“λ” [λ ‰μ¤μ λ΅λ λ―Έμ…](https://github.com/Seongwon97/java-lotto/tree/step2) μ—μ„ ν™•μΈν•μ‹¤ μ μμµλ‹λ‹¤.
