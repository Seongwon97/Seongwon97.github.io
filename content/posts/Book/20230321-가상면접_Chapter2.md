---
title: "[가상 면접 사례로 배우는 대규모 시스템 설계 기초] 2장. 개략적인 규모 추정"
date: 2023-03-21
tags: ["가상 면접 사례로 배우는 대규모 시스템 설계 기초"]
draft: false
---

![Untitled](image/가상_면접_사례로_배우는_대규모_시스템_설계_기초.png)

개략적인 규모 추정(back-off-the-envelope estimation)은 보편적으로 통용되는 성능 수치상에서의 사고 실험을 행하여 추정치를 계산하는 행위로서, 어떤 설계가 요구사항에 부합할 것인지 보기위한 것이다.

# 응답지연 값

구글의 제프 딘은 2010년에 통상적인 컴퓨터에서 구현된 연산들의 응답지연 값을 공개했다.

- L1 cache reference 0.5 ns
- Branch mispredict 5 ns
- L2 cache reference 7 ns
- Mutex lock/unlock 100 ns
- Main memory reference 100 ns
- Compress 1K bytes with Zippy 10,000 ns
- Send 2K bytes over 1 Gbps network 20,000 ns
- Read 1 MB sequentially from memory 250,000 ns
- Round trip within same datacenter 500,000 ns
- Disk seek 10,000,000 ns
- Read 1 MB sequentially from network 10,000,000 ns
- Read 1 MB sequentially from disk 30,000,000 ns
- Send packet CA->Netherlands->CA 150,000,000 ns

> **📚 Reference**
> - [Google Pro Tip: Use Back-of-the-envelope-calculations to Choose the Best Design - High Scalability -](http://highscalability.com/blog/2011/1/26/google-pro-tip-use-back-of-the-envelope-calculations-to-choo.html)

응답 지연값을 고려해보면 아래의 결과가 나온다.

- 메모리는 빠르지만 디스크는 아직도 느리다.
- 디스크 탐색(Seek)은 가능한 한 피하라
- 단순한 압축 알고리즘은 빠르다.
- 데이터를 인터넷으로 전송하기 전에 가능하면 압축해라.
- 데이터 센터는 보통 여러 지역(region)에 분산되어 있고, 센터들 간에 데이터를 주고받는 데는 시간이 걸린다.

# 가용성 관련 수치

고가용성(High Availability)은 시스템이 오랜 기간 동안 지속적으로 중단 없이 운영될 수 있는 능력을 말한다.

고가용성은 퍼센트(%, percent)로 표현하며 대부분의 서비스는 99%~100%의 값을 갖는다.

SLA(Service Level Agreement)는 서비스 사업자와 고객 사이에 맺어진 합의를 의미는 용어로 서비스 사업자(Service Provider)가 보편적으로 사용한다. 이 합의에는 서비스의 가용시간(uptime)이 공식적으로 기술되어 있다.
