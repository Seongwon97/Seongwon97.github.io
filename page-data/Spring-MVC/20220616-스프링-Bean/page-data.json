{"componentChunkName":"component---src-templates-blog-post-js","path":"/Spring-MVC/20220616-스프링-Bean/","result":{"data":{"site":{"siteMetadata":{"author":"Seongwon","comment":{"utterances":"Seongwon97/Seongwon97.github.io"},"sponsor":{"buyMeACoffeeId":"seongwon"}}},"markdownRemark":{"excerpt":"1. Spring Bean이란? DI/IoC에 의해 우리는 스프링에게 객체의 생명주기를 스프링에게 맡기게 된다. 이로인해 스프링은 필요한 객체들을 Spring Container(IoC Container, Application Context)에 생성하고 생성한 객체들을 제공해주는데 이때 Spring Container가 관리하는 자바 객체(POJO(Plain…","html":"<h1 id=\"1-spring-bean이란\" style=\"position:relative;\"><a href=\"#1-spring-bean%EC%9D%B4%EB%9E%80\" aria-label=\"1 spring bean이란 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Spring Bean이란?</h1>\n<p>DI/IoC에 의해 우리는 스프링에게 객체의 생명주기를 스프링에게 맡기게 된다. 이로인해 스프링은 필요한 객체들을 <strong>Spring Container</strong>(IoC Container, Application Context)에 생성하고 생성한 객체들을 제공해주는데 이때 Spring Container가 관리하는 자바 객체(<strong>POJO</strong>(Plain Old Java Object))를 우리는 <strong>Bean</strong>이라고 한다.</p>\n<p>Spring에서는 Bean들을 <strong>싱글톤</strong>으로 생성하여 관리를 한다.</p>\n<h2 id=\"11-spring-bean-구성-요소\" style=\"position:relative;\"><a href=\"#11-spring-bean-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\" aria-label=\"11 spring bean 구성 요소 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.1. Spring Bean 구성 요소</h2>\n<ul>\n<li><strong>class</strong>: Bean으로 등록 될 Java클래스</li>\n<li><strong>id</strong>: Bean의 고유 식별자</li>\n<li><strong>scope</strong>: Bean을 생성하기 위한 방법 (singleton, prototype 등)</li>\n<li><strong>constructor-arg</strong>: Bean 생성 시 생성자에 전달할 파라미터</li>\n<li><strong>property</strong>: Bean 생성 시 setter에 전달할 인수</li>\n</ul>\n<h1 id=\"2-bean을-등록하는-방법\" style=\"position:relative;\"><a href=\"#2-bean%EC%9D%84-%EB%93%B1%EB%A1%9D%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"2 bean을 등록하는 방법 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Bean을 등록하는 방법</h1>\n<p>스프링이 빈을 등록하고 관리하는 방법은 xml, Annotation-based configuration, Java-based configuration 방법이 있다. 해당 게시글에서는 xml방법을 제외한 2가지 방법을 설명하겠다.</p>\n<h2 id=\"21-component-componentscan\" style=\"position:relative;\"><a href=\"#21-component-componentscan\" aria-label=\"21 component componentscan permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. @Component, @ComponentScan</h2>\n<p>ComponentScan은 스프링이 직접 <code>@Component</code>어노테이션이 있는 클래스들을 찾아 자동으로 스프링 컨테이너에 Bean으로 등록해주는 기능이다. 스프링이 검색하여 빈으로 등록을 할 수 있게 하려면 빈으로 등록하려는 클래스에 <code>@Component</code> 어노테이션을 붙여줘야한다. 이때 빈의 이름은 기본적으로 클래스 이름의 첫 글자를 소문자로 바꾼 이름을 사용하며 다른 이름을 설정하고 싶을 경우 <code>@Component(\"newName\"\")</code>과 같이 value값을 설정해줘야 한다.</p>\n<p>우리가 자주 사용하는 <code>@Controller</code>, <code>@Service</code>, <code>@Repository</code>, <code>@Configuration</code> 들이 빈으로 등록되었던 이유는 아래의 사진과 같이 기본적으로 <code>@Component</code> 어노테이션을 포함하고 있기 때문이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 416px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA20lEQVQY042PXXKDMAyEOU9DsC2bNAQGCAbLGOj9b7MVvKTThpk+7OhnpE+rjINC5A8wO4xhQVw2+InBaUXTdBg7xqOqobWGtQ6WLIwxR73H38rmmCPNOcKUg4NB2r4EtmHi+YCPYUY/ePguYOoieFhx+7xDKfUeuCYBCnQR6LZeUN2VXCcQvYaI6I+rU4eRC4FdDqgfrlAyqN9qX3jVZ9AsthqpLdC3FZKvMD0KcG3wrDUGOTD0Vzw9oelKqOIfDm/WwJE+3nKWUEpeSq+0Gs5Jvqs0sI5OIT/1DcFWxFx4gu1WAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"serviceComponent\"\n        title=\"serviceComponent\"\n        src=\"/static/41414c80eee2843523aa8e87a12b6f50/b0122/serviceComponent.png\"\n        srcset=\"/static/41414c80eee2843523aa8e87a12b6f50/5a46d/serviceComponent.png 300w,\n/static/41414c80eee2843523aa8e87a12b6f50/b0122/serviceComponent.png 416w\"\n        sizes=\"(max-width: 416px) 100vw, 416px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><code>@Component</code>가 붙은 클래스들을 빈으로 등록하려면 설정 클래스에서 <code>@ComponentScan</code>을 설정해줘야한다. <code>@ComponentScan</code>을 설정해주면 <code>basePackages</code>로 설정한 패키지의 하위 클래스 중 <code>@Component</code>가 붙은 클래스를 검색하고 생성하여 빈으로 등록해주게 된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">ComponentScan</span><span class=\"mtk4\">(</span><span class=\"mtk7\">basePackages</span><span class=\"mtk4\"> </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> {</span><span class=\"mtk6\">&quot;packageName&quot;</span><span class=\"mtk4\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">AppCtx</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">   </span><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>우리가 사용하는 SpringBoot 어플리케이션에는 위와 같이 설정 클래스를 생성하고 <code>@ComponentScan</code>을 붙이는 과정이 없어도 된다. 그 이유는 아래와 같이 <code>@SpringBootApplication</code>에 <code>@ComponentScan</code>이 붙어있기 때문이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 830px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5UlEQVQY042QzW6DMBCEeZoeEC7rHxLbOG0IEAQkkWgpilrl/R9jukCqVjn18Glmx+OV5ajrDNrTGXXToTwc4W1YkFJCEq0q6X9wP2qaBFsrQUpDag2lDbTOQLwo/QM9eHrIfvKorQSORYJ6H6MICXQqFgylrM8wd1a/Zr/cO9ydUfMLv6on3KoYt9rjuvcYPGMVRifwsXMY3AbjzrPPOXMYg1vmWSc+n15yDFuFIRO4UIzoEgjXgi+XHu+VwWdnMdUbvL1m6EOO1lt0uUPPC+e5Dx4n9u2c8Ve1NsNBpSikQEkJvgG3I6YMUfEPUAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"componentScan\"\n        title=\"componentScan\"\n        src=\"/static/1a946d7d3dc9238f3d21c7f20c281623/715a3/componentScan.png\"\n        srcset=\"/static/1a946d7d3dc9238f3d21c7f20c281623/5a46d/componentScan.png 300w,\n/static/1a946d7d3dc9238f3d21c7f20c281623/0a47e/componentScan.png 600w,\n/static/1a946d7d3dc9238f3d21c7f20c281623/715a3/componentScan.png 830w\"\n        sizes=\"(max-width: 830px) 100vw, 830px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>📌  스프링은 기본적으로 컴포넌트 스캔을 이용해 빈을 등록하는 방법을 권장한다. 개발자의 입장에서도 해당 방법으로 빈으로 등록할 클래스에 <code>@Component</code>를 통해 빈을 등록하면 해당 클래스를 빈으로 등록되도록 잘 설정했는지 쉽게 파악할 수 있어서 좋기 때문이다.</p>\n<h2 id=\"22-configuration-bean\" style=\"position:relative;\"><a href=\"#22-configuration-bean\" aria-label=\"22 configuration bean permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. @Configuration, @Bean</h2>\n<p>개발자가 직접 수동으로 스프링 컨테이너에 빈을 등록하기 위해서는 아래와 같이 <code>@Configuration</code>이 붙은 클래스 내에서 개발자가 직접 빈으로 등록하고 싶은 객체를 반환하는 메서드에 <code>@Bean</code>을 붙여줘야 한다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Greeter</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span><span class=\"mtk4\"> </span><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">AppContext</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">@</span><span class=\"mtk11\">Bean</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk11\">Greeter</span><span class=\"mtk3\"> greeter</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">Greeter</span><span class=\"mtk1\"> </span><span class=\"mtk4\">greeter</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Greeter</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> greeter;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>이때 Bean의 이름은 메서드의 이름으로 결정되어 중복되지 않도록 주의해야 한다. @Bean을 빈으로 등록하는 과정은 다음과 같다. 먼저 스프링 컨테이너는 앞서 설명했듯이 <code>@Component</code> 어노테이션이 붙은 <code>@Configuration</code>이 붙은 클래스를 빈으로 등록하게 된다. 이후 해당 설정 클래스의 <code>@Bean</code>이 붙은 메서드를 찾아 빈들을 추가해준다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 383px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFElEQVQY032QzU7DMBCE+xyIAgca/4TEsZOSyiSOHbutxHPwc4ALB048/LA1FCFRcRjNruT9Zr2L4Dlmv0KKNxhcREh7+LiD8zP1HmvdY7IRVV2DcwYhBIlDSomyLH/8qMU2FpjDQQzWCsTtDml/j2lOCAQ+aBg9+o3F2Ae4TcgBWpsM/w3LwERAPzKEiSFOK9wNCqppaUDnIW0MmmOtqFY6e1XVf7bLwI9whte4xFs6x0tY4rFZQhUMBaVzLsAYOfuu+Zf/++V3e4Fnd0m6xsNY4Km6wtQINHUJ3UjcrgVaI2CMRNcJ2rSke6qT22XgvpOIisEZjbQ2mFuOsSvh2hKbnmNyLGsc6A0FWivpDC0BxUngJ7CYvxJKCcY/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"configurationComponent\"\n        title=\"configurationComponent\"\n        src=\"/static/65a46869dd1682cbed8a02e77fe3ecd2/d0c94/configurationComponent.png\"\n        srcset=\"/static/65a46869dd1682cbed8a02e77fe3ecd2/5a46d/configurationComponent.png 300w,\n/static/65a46869dd1682cbed8a02e77fe3ecd2/d0c94/configurationComponent.png 383w\"\n        sizes=\"(max-width: 383px) 100vw, 383px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>📌  모두들 알고 있듯이 스프링은 빈들을 기본적으로 싱글턴으로 관리한다. 만약 중복된 여러 빈을 생성하고 싶다면 <code>@Configuration(proxyBeanMetods= false)</code>를 붙여주면 된다.</p>\n<p>먼저 설명을 하였던 @Component 어노테이션을 사용하면 빈을 쉽게 등록할 수 있는데 @Configuration, @Bean을 사용해 빈을 등록은 어떤 상황에 할까? 수동으로 빈 등록은 보통 아래와 같은 상황에 한다.</p>\n<ul>\n<li>\n<p>개발자가 직접 제어가 불가능한 라이브러리를 사용할 때</p>\n<ul>\n<li>Gson과 같이 외부에서 가져다쓰는 클래스인 경우 싱글톤으로 사용해야지 메모리상의 이점을 얻을 수 있다. 하지만 외부 클래스들은 우리가 직접 제어를 할 수 없기에 @Bean으로 수동 등록하여 사용해야 한다.</li>\n</ul>\n</li>\n<li>애플리케이션 전범위적으로 사용되는 클래스를 등록할 때</li>\n<li>\n<p>다형성을 활용하여 여러 구현체를 등록해줘야 할 때</p>\n<ul>\n<li><code>@Bean</code>을 통해 등록을 해주면 어떤 구현체들이 빈으로 등록되었는지를 <code>@Configuration</code>클래스만 보면 되어서 한 눈에 파악하기 쉽고 유지보수하기 좋다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"3-빈의-라이프-사이클\" style=\"position:relative;\"><a href=\"#3-%EB%B9%88%EC%9D%98-%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4\" aria-label=\"3 빈의 라이프 사이클 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 빈의 라이프 사이클</h1>\n<p>스프링 컨테이너는 빈의 객체 생성, 의존 결정, 초기화, 소멸의 과정을 관리한다.</p>\n<ul>\n<li><strong>객체 생성</strong></li>\n<li><strong>의존 결정</strong>: 의존 자동 주입을 통한 의존 설정과 설정 클래스에 있는 의존 주입들이 모두 수행된다.</li>\n<li><strong>초기화</strong>: 의존 결정이 완료되면 스프링 빈은 빈 객체의 지정된 메서드를 호출하여 빈을 초기화해 준다.</li>\n<li><strong>소멸</strong>: 스프링 컨테이너가 종료되면 스프링 컨테이너가 빈 객체를 소멸시킨다.</li>\n</ul>\n<p>생성, 의존 결정 과정은 이전 게시글인 DI/IoC와 앞의 내용을 통해 이해할 수 있지만 그 뒤의 초기화, 소멸의 경우 생소한 내용이다. 초기화와 소멸 과정 필요한 예시로는 데이터베이스 커넥션 풀과 클라이언트 채팅 등이 존재한다. 커넥션 풀을 예시로 들면 빈을 사용하기 전에 일정 개수의 커넥션을 만들고 애플리케이션 종료 시점에 모든 커넥션을 닫아야 하는데 이러한 과정을 빈의 초기화, 소멸 과정에서 진행을 하게 된다. 채팅의 경우 채팅을 시작할 때 서버와의 연결을 생성하고 종료할 때 연결을 끊는데, 서버와의 연결을 생성하고 끊는 작업이 빈의 초기화, 소멸 과정에 진행되게 된다.</p>\n<p>스프링은 이러한 초기화, 소멸 과정을 개발자가 정할 수 있게 <code>org.springframework.beans.factory.InitializingBean;</code> 인터페이스와 <code>org.springframework.beans.factory.DisposableBean;</code> 인터페이스를 제공하고 있다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">interface</span><span class=\"mtk4\"> </span><span class=\"mtk11\">InitializingBean</span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">void</span><span class=\"mtk3\"> afterPropertiesSet</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk9\">throws</span><span class=\"mtk3\"> </span><span class=\"mtk11\">Exception</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">interface</span><span class=\"mtk4\"> </span><span class=\"mtk11\">DisposableBean</span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">void</span><span class=\"mtk3\"> destroy</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk9\">throws</span><span class=\"mtk3\"> </span><span class=\"mtk11\">Exception</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>초기화 및 소멸을 하는 과정에 특정 로직의 실행이 필요하다면 위의 인터페이스들을 상속받아 아래와 같이 <code>afterPropertiesSet()</code>, <code>destroy()</code>메서드를 재정의해주면 된다. 해당 인터페이스는 모두 상속해야하는 것이 아닌 상황에 따라 필요한 인터페이스만 상속받으면 된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Client</span><span class=\"mtk4\"> </span><span class=\"mtk9\">implements</span><span class=\"mtk4\"> </span><span class=\"mtk11\">InitializingBean</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">DisposableBean</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">private</span><span class=\"mtk4\"> </span><span class=\"mtk11\">String</span><span class=\"mtk4\"> host</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk9\">void</span><span class=\"mtk3\"> setHost</span><span class=\"mtk1\">(</span><span class=\"mtk11\">String</span><span class=\"mtk1\"> </span><span class=\"mtk4 mtki\">host</span><span class=\"mtk1\">)</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">this</span><span class=\"mtk1\">.</span><span class=\"mtk4\">host</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> host;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">@</span><span class=\"mtk11\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk9\">void</span><span class=\"mtk3\"> destroy</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk9\">throws</span><span class=\"mtk3\"> </span><span class=\"mtk11\">Exception</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">System</span><span class=\"mtk1\">.</span><span class=\"mtk11\">out</span><span class=\"mtk1\">.</span><span class=\"mtk3\">println</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;Client.destroy() 실행&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">@</span><span class=\"mtk11\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk9\">void</span><span class=\"mtk3\"> afterPropertiesSet</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk9\">throws</span><span class=\"mtk3\"> </span><span class=\"mtk11\">Exception</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">System</span><span class=\"mtk1\">.</span><span class=\"mtk11\">out</span><span class=\"mtk1\">.</span><span class=\"mtk3\">println</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;Client.afterPropertiesSet() 실행&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>외부에서 제공받은 클래스와 같이 InitializingBean과 DisposableBean 인터페이스를 구현하기 어려운 경우 아래와 같이 <code>@Bean</code> 태그의 <code>initMethod</code>속성과 <code>destroyMethod</code>속성을 통해 초기화/소멸 메서드의 이름을 지정하면 된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">AppContext</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">@</span><span class=\"mtk11\">Bean</span><span class=\"mtk4\">(</span><span class=\"mtk7\">initMethod</span><span class=\"mtk4\"> </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> </span><span class=\"mtk6\">&quot;connect&quot;</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk7\">destroyMethod</span><span class=\"mtk4\"> </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> </span><span class=\"mtk6\">&quot;close&quot;</span><span class=\"mtk4\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk11\">Client2</span><span class=\"mtk3\"> client2</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">Client2</span><span class=\"mtk1\"> </span><span class=\"mtk4\">client2</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Client2</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">client2</span><span class=\"mtk1\">.</span><span class=\"mtk3\">setHost</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;host&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> client2;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk5 mtki\">// connect와 close는 Clients에 정의되어있는 메서드 이름</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><code>initMethod</code>의 경우 빈을 초기화 과정에서 시행되는 것이어서 Bean 생성 메서드에서 직접 실행을 하여도 된다. 하지만 <code>InitializingBean</code>를 상속하여 <code>afterPropertiesSet()</code>를 재정의한 경우에는 빈의 초기화 과정에서 <code>afterPropertiesSet()</code>를 호출하기 때문에 중복된 호출이 발생하지 않도록 주의해야한다. 또한  <code>initMethod</code>, <code>destroyMethod</code>에서 호출되는 메서드는 파라미터가 없어야한다. 파라미터가 있을 경우 spring이 예외를 발생시킨다.</p>\n<h1 id=\"4-bean-scope\" style=\"position:relative;\"><a href=\"#4-bean-scope\" aria-label=\"4 bean scope permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Bean Scope</h1>\n<h2 id=\"41-singleton-scope\" style=\"position:relative;\"><a href=\"#41-singleton-scope\" aria-label=\"41 singleton scope permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.1. Singleton Scope</h2>\n<p>Bean 객체의 범위로는 대표적으로 <strong>싱글톤</strong>과 <strong>프로토타입</strong>이 있다. 일반적으로 별다른 설정이 없다면 빈은 싱글톤 범위로 생성되어 사용된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">AppContext</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">@</span><span class=\"mtk11\">Bean</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk11\">Client</span><span class=\"mtk3\"> client</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">Client</span><span class=\"mtk1\"> </span><span class=\"mtk4\">client</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Client</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> client;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">Client</span><span class=\"mtk4\"> client1 </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> </span><span class=\"mtk11\">ctx</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getBean</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;client&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">Client</span><span class=\"mtk1\">.</span><span class=\"mtk4\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">Client</span><span class=\"mtk4\"> client2 </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> </span><span class=\"mtk11\">ctx</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getBean</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;client&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">Client</span><span class=\"mtk1\">.</span><span class=\"mtk4\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// client1 == client2 -&gt; true</span></span></span></code></pre>\n<p>싱글톤으로 생성되기에 <code>getBean()</code>을 통해 가져온 객체들은 모두 같은 객체가 된다.</p>\n<h2 id=\"42-prototype-scope\" style=\"position:relative;\"><a href=\"#42-prototype-scope\" aria-label=\"42 prototype scope permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.2. Prototype Scope</h2>\n<p><code>getBean()</code>을 할 때마다 새로운 객체를 생성하도록 하려면 빈의 범위(Scope)을 프로토타입으로 설정해주면 된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">AppContext</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">@</span><span class=\"mtk11\">Bean</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">@</span><span class=\"mtk11\">Scope</span><span class=\"mtk4\">(</span><span class=\"mtk6\">&quot;prototype&quot;</span><span class=\"mtk4\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk11\">Client</span><span class=\"mtk3\"> client</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">Client</span><span class=\"mtk1\"> </span><span class=\"mtk4\">client</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Client</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> client;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">Client</span><span class=\"mtk4\"> client1 </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> </span><span class=\"mtk11\">ctx</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getBean</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;client&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">Client</span><span class=\"mtk1\">.</span><span class=\"mtk4\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">Client</span><span class=\"mtk4\"> client2 </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> </span><span class=\"mtk11\">ctx</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getBean</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;client&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">Client</span><span class=\"mtk1\">.</span><span class=\"mtk4\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// client1 == client2 -&gt; false</span></span></span></code></pre>\n<p>프로토타입 빈으로 생성을 하게되면 <code>getBean()</code>을 할 때마다 매번 새로운 객체를 생성하여 반환하게 된다.</p>\n<p>📌  프로토타입 빈을 사용하면 빈은 객체 생성, 프로퍼티 설정 및 초기화 작업까지는 수행하지만, 컨테이너를 종료한다고 해서 생성한 빈의 프로토타입 빈의 소멸 메서드를 실행하지는 않는다. 즉, 소멸 과정이 실행되지 않아 프로토타입 범위의 빈을 사용할 때는 빈 객체의 소멸 처리를 코드에서 직접 해줘야 한다.</p>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<ul>\n<li><a href=\"https://book.naver.com/bookdb/book_detail.nhn?bid=13786861\">초보 웹 개발자를 위한 스프링5 프로그래밍 입문 - 챕터 2, 3, 5, 6</a></li>\n<li><a href=\"https://mangkyu.tistory.com/75\">[Spring] 빈 등록을 위한 어노테이션 @Bean, @Configuration, @Component 차이 및 비교 - (1/2) MangKyu's Diary</a></li>\n<li><a href=\"https://mangkyu.tistory.com/234\">[Spring] @Configuration 안에 @Bean을 사용해야 하는 이유, proxyBeanMethods - (2/2) MangKyu's Diary:티스토리</a></li>\n<li><a href=\"https://melonicedlatte.com/2021/07/11/232800.html\">스프링 빈(Spring Bean)이란? 개념 정리</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtki { font-style: italic; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk11 { color: #E5C07B; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk7 { color: #D19A66; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .mtk6 { color: #98C379; }\n  .one-dark-pro .mtk9 { color: #C678DD; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .mtk5 { color: #7F848E; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#1-spring-bean%EC%9D%B4%EB%9E%80\">1. Spring Bean이란?</a></p>\n<ul>\n<li><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#11-spring-bean-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\">1.1. Spring Bean 구성 요소</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#2-bean%EC%9D%84-%EB%93%B1%EB%A1%9D%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\">2. Bean을 등록하는 방법</a></p>\n<ul>\n<li><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#21-component-componentscan\">2.1. @Component, @ComponentScan</a></li>\n<li><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#22-configuration-bean\">2.2. @Configuration, @Bean</a></li>\n</ul>\n</li>\n<li><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#3-%EB%B9%88%EC%9D%98-%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4\">3. 빈의 라이프 사이클</a></li>\n<li>\n<p><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#4-bean-scope\">4. Bean Scope</a></p>\n<ul>\n<li><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#41-singleton-scope\">4.1. Singleton Scope</a></li>\n<li><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#42-prototype-scope\">4.2. Prototype Scope</a></li>\n</ul>\n</li>\n<li><a href=\"/Spring-MVC/20220616-%EC%8A%A4%ED%94%84%EB%A7%81-Bean/#reference\">Reference</a></li>\n</ul>","frontmatter":{"date":"2022년 06월 16일","title":"[Spring] Bean이란 무엇일까?","tags":["SpringFramework","Bean"]}}},"pageContext":{"slug":"/Spring-MVC/20220616-스프링-Bean/","previous":{"fields":{"slug":"/Spring-MVC/20220615-RequestParam-RequestBody-ModelAndAttribute비교/"},"frontmatter":{"title":"[Spring] - @RequestParam, @RequestBody, @ModelAndAttribute 차이 비교"}},"next":{"fields":{"slug":"/Spring-MVC/20220619-자동주입과-여러주입방법/"},"frontmatter":{"title":"[Spring] 자동 주입과 여러 주입 방법"}}}},"staticQueryHashes":["3911196313","4111100897"]}