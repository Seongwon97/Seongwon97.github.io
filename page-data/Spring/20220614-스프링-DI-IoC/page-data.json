{"componentChunkName":"component---src-templates-blog-post-js","path":"/Spring/20220614-스프링-DI-IoC/","result":{"data":{"site":{"siteMetadata":{"author":"Seongwon","comment":{"utterances":"Seongwon97/Seongwon97.github.io"},"sponsor":{"buyMeACoffeeId":"seongwon"}}},"markdownRemark":{"excerpt":"DI (Dependency Injection) DI는 스프링의 3대 핵심 기술 중 하나로 외부에서 두 객체 간의 관계를 결정해주는 패턴이다.\n이는 객체의 관계 사이에 인터페이스를 둬서 클래스 레벨에서는 의존 관계가 고정되지 않도록 하고 런타임시에 의존 주입을 하여 결합도를 낮추고 유연성을 높여준다. 스프링의 3대 핵심 기술로는 IOC/DI, AOP, PS…","html":"<h1 id=\"di-dependency-injection\" style=\"position:relative;\"><a href=\"#di-dependency-injection\" aria-label=\"di dependency injection permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DI (Dependency Injection)</h1>\n<p>DI는 스프링의 3대 핵심 기술 중 하나로 외부에서 두 객체 간의 관계를 결정해주는 패턴이다.\n이는 객체의 관계 사이에 인터페이스를 둬서 클래스 레벨에서는 의존 관계가 고정되지 않도록 하고 런타임시에 의존 주입을 하여 결합도를 낮추고 유연성을 높여준다.</p>\n<blockquote>\n<p>스프링의 3대 핵심 기술로는 IOC/DI, AOP, PSA가 있다.</p>\n</blockquote>\n<h2 id=\"왜-di를-사용할까\" style=\"position:relative;\"><a href=\"#%EC%99%9C-di%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C\" aria-label=\"왜 di를 사용할까 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왜 DI를 사용할까?</h2>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberService</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">private</span><span class=\"mtk4\"> </span><span class=\"mtk9\">final</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberMySqlDao</span><span class=\"mtk4\"> memberSqlDao</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> MemberService</span><span class=\"mtk1\">(</span><span class=\"mtk11\">MemberMySqlDao</span><span class=\"mtk1\"> </span><span class=\"mtk4 mtki\">memberSqlDao</span><span class=\"mtk1\">)</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">this</span><span class=\"mtk1\">.</span><span class=\"mtk4\">memberSqlDao</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> memberSqlDao;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>다음 코드를 보면 회원 정보 관련 비즈니스 로직을 담당하는 서비스는 MySQL db를 사용하는 <code>MemberMySqlDao</code>를 사용하고 있다는 것을 알 수 있다.\n이러한 클래스들에는 아래의 문제점이 있다.</p>\n<h3 id=\"클래스의-강한-결합-유연성-\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%9E%98%EC%8A%A4%EC%9D%98-%EA%B0%95%ED%95%9C-%EA%B2%B0%ED%95%A9-%EC%9C%A0%EC%97%B0%EC%84%B1-\" aria-label=\"클래스의 강한 결합 유연성  permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클래스의 강한 결합 (유연성 )</h3>\n<p><code>MemberService</code> 클래스는 <code>MemberMySqlDao</code>와 강한 결합을 하고 있다.\n만약 서비스가 변경되어 MySql이 아니라 <code>MemberNoSqlDao</code>객체를 사용하게 된다면 어떻게 될까??\n이럴 경우 <code>MemberService</code>의 인스턴스 변수 뿐만 아니라 생성자까지 수정해야하는 등 많은 변경이 필요하다.</p>\n<h3 id=\"객체가-아닌-클래스-간의-관계\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4%EA%B0%80-%EC%95%84%EB%8B%8C-%ED%81%B4%EB%9E%98%EC%8A%A4-%EA%B0%84%EC%9D%98-%EA%B4%80%EA%B3%84\" aria-label=\"객체가 아닌 클래스 간의 관계 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체가 아닌 클래스 간의 관계</h3>\n<p><code>MemberService</code>와 <code>MemberMySqlDao</code>는 현재 객체들간의 관계가 아니라 클래스 사이의 관계를 맺고 있다.\n객체들간의 관계를 맺으면 해당 객체들은 관계를 맺는 구체 클래스를 알지 못하더라도 문제가 발생하지 않는다.\n하지만 <code>MemberService</code>는 어떠한가? <code>MemberMySqlDao</code> 와 객체간의 결합이 아닌 클래스간의 결합을 하고 있어 <code>MemberNoSqlDao</code> 로 변경하였을 때 문제가 발생하게 된다.</p>\n<p>유연성이 떨어지는 이러한 문제를 해결하기 위해서는 인터페이스를 활용할 수 있다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">interface</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberDao</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{...}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberMySqlDao</span><span class=\"mtk4\"> </span><span class=\"mtk9\">implements</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberDao</span><span class=\"mtk1\">{...}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberNoSqlDao</span><span class=\"mtk4\"> </span><span class=\"mtk9\">implements</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberDao</span><span class=\"mtk1\">{...}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberService</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">private</span><span class=\"mtk4\"> </span><span class=\"mtk9\">final</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberDao</span><span class=\"mtk4\"> memberDao</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> MemberService</span><span class=\"mtk1\">(</span><span class=\"mtk11\">MemberDao</span><span class=\"mtk1\"> </span><span class=\"mtk4 mtki\">memberDao</span><span class=\"mtk1\">)</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">this</span><span class=\"mtk1\">.</span><span class=\"mtk4\">memberDao</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> memberDao;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk9\">void</span><span class=\"mtk3\"> setMemberDao</span><span class=\"mtk1\">(</span><span class=\"mtk11\">MemberDao</span><span class=\"mtk1\"> </span><span class=\"mtk4 mtki\">memberDao</span><span class=\"mtk1\">)</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">this</span><span class=\"mtk1\">.</span><span class=\"mtk4\">memberDao</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> memberDao;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>MemberDao 인터페이스를 만들고 이를 구현하는 객체들을 MemberService에서 사용한다면 위의 문제점들이 해결된다.\n하지만 이와 같이 구현 객체가 아닌 인터페이스를 인스턴스 변수로 갖는 경우 생성자 또는 Setter를 통해 MemberService에서 사용할 MemberDao를 넣어줘야 한다.</p>\n<p>이와 같이 객체 내부에서가 아닌 외부에서 의존 객체를 주입시켜 주는 것을 DI라고 한다.\n아래의 사진을 보면 DI를 사용하였을 때와 사용하지 않았을 때의 차이를 알 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1194px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCUlEQVQoz21SbWvaUBjNny0Mxn7AYGOUfSnuU9mbe8EWttkhDKbtaDdRO7c6tkaNMRqj1qjxrS4mubFqk5ic3dyCsLHA4V7uPfc8J89zOEIIZFmGIAio1+swTRP/fkEQsHU8Hm940+n0vzxuuVyir/XR6/WgaRpsm8D31/A8F45zTff+5sFsNoOqqpTXh2EY7M51XQbHcRiHWywWsEyCTruLakVikGsKSnwZg/4Quq4zoud5TGQwGEKsiBDKAkSxilKxxNbQcajFmaaFVreBinIOXiqgLP+E2OQZGqqE4XDABFerFSaXE2jDHuoyLarU0GwrDKHjsDChf8cRy8ab3C52knfwMH4b92JbuL+3he34Lewe3kWr07hx6K5RawuIft5GLB9B7GsEe7kdPE8/QLaShD41WLs4izrMiYdIFmNI5F/g/WkU8cwzJL5FcSIc4EJtM0HXcZn4Mf8BqS8vkUq/Rpa+O+ETqHZ4WAaBPbfBXdNm6pc6DN2ilhe0CsV8CUKu6PkMxLKYoB/4mFtzeHQ/+ZSBepSGNjLQbfWgNJqQJAnhgLmQvLZM2Oe/QH4UYBdptbMzmKc5LJVGmIVNbEazLgoXGWSOX+Eo9RQfCweotooI26brv9nguJAc0r2rK7i0sR7NpUunGcJfr9ldENxEp64VsZ+L4N33J3ibf4z97CPIo9JfWfwDmDSI9VbTTwoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DI IoC\"\n        title=\"DI IoC\"\n        src=\"/static/81320c3fce1ee01ad00209a8271e5ac9/187fa/DI%2CIoC.png\"\n        srcset=\"/static/81320c3fce1ee01ad00209a8271e5ac9/5a46d/DI%2CIoC.png 300w,\n/static/81320c3fce1ee01ad00209a8271e5ac9/0a47e/DI%2CIoC.png 600w,\n/static/81320c3fce1ee01ad00209a8271e5ac9/187fa/DI%2CIoC.png 1194w\"\n        sizes=\"(max-width: 1194px) 100vw, 1194px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"객체-조립기assembler\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4-%EC%A1%B0%EB%A6%BD%EA%B8%B0assembler\" aria-label=\"객체 조립기assembler permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체 조립기(Assembler)</h2>\n<p>프로그램 내에서 의존 관계들을 DI로 설정하게 된다면 실제 프로그램을 실행하는 main 코드에서는 다음과 같이 모든 의존관계 주입을 해줘야 할 것이다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Main</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk9\">static</span><span class=\"mtk3\"> </span><span class=\"mtk9\">void</span><span class=\"mtk3\"> main</span><span class=\"mtk1\">(</span><span class=\"mtk11\">String</span><span class=\"mtk1\">[] </span><span class=\"mtk4 mtki\">args</span><span class=\"mtk1\">)</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">MemberDao</span><span class=\"mtk1\"> </span><span class=\"mtk4\">memberDao</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">MemberDao</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">MemberRegisterService</span><span class=\"mtk1\"> </span><span class=\"mtk4\">registerService</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">MemberRegisterService</span><span class=\"mtk1\">(memberDao);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">ChangePasswordService</span><span class=\"mtk1\"> </span><span class=\"mtk4\">changePasswordService</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">ChangePasswordService</span><span class=\"mtk1\">(memberDao);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>이러한 의존관계 주입을 하나의 클래스로 만들면 어떻게 아래의 <code>Assembler</code>코드와 같이 될 것이다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Assembler</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">private</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberDao</span><span class=\"mtk4\"> memberDao</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">private</span><span class=\"mtk4\"> </span><span class=\"mtk11\">MemberRegisterService</span><span class=\"mtk4\"> memberRegisterService</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">private</span><span class=\"mtk4\"> </span><span class=\"mtk11\">ChangePasswordService</span><span class=\"mtk4\"> changePasswordService</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> Assembler</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        memberDao </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">MemberDao</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        memberRegisterService </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">MemberRegisterService</span><span class=\"mtk1\">(memberDao);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        changePasswordService </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">ChangePasswordService</span><span class=\"mtk1\">(memberDao);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk11\">MemberDao</span><span class=\"mtk3\"> getMemberDao</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> memberDao;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk11\">MemberRegisterService</span><span class=\"mtk3\"> getMemberRegisterService</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> memberRegisterService;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk11\">ChangePasswordService</span><span class=\"mtk3\"> getChangePasswordService</span><span class=\"mtk1\">()</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> changePasswordService;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Assembler를 사용하면 Assember객체를 하나 생성한 후, 해당 객체로부터 필요한 객체들을 꺼내쓰면 된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk9\">class</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Main</span><span class=\"mtk4\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">public</span><span class=\"mtk3\"> </span><span class=\"mtk9\">static</span><span class=\"mtk3\"> </span><span class=\"mtk9\">void</span><span class=\"mtk3\"> main</span><span class=\"mtk1\">(</span><span class=\"mtk11\">String</span><span class=\"mtk1\">[] </span><span class=\"mtk4 mtki\">args</span><span class=\"mtk1\">)</span><span class=\"mtk3\"> </span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">private</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Assembler</span><span class=\"mtk1\"> </span><span class=\"mtk4\">assembler</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9\">new</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Assembler</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">private</span><span class=\"mtk1\"> </span><span class=\"mtk11\">MemberRegisterService</span><span class=\"mtk1\"> </span><span class=\"mtk4\">memberRegisterService</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">assembler</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getMemberRegisterService</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h2 id=\"스프링의-di\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81%EC%9D%98-di\" aria-label=\"스프링의 di permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링의 DI</h2>\n<p>스프링은 Assembler와 유사한 DI 기능을 제공한다.</p>\n<p>스프링은 필요한 객체들을 스프링 컨테이너(Application Context)에 생성하고 생성한 객체에 의존을 주입하며, 생성이 된 객체들을 제공해준다.\n스프링에서는 이러한 객체들을 Bean이라고 부르며, 앞서 말한바와 같이 Bean들의 생성, 소멸에 관련된 작업을 자동으로 수행해줍니다.</p>\n<p>또한 스프링은 Bean들을 싱글톤으로 관리해주기도 한다.</p>\n<h1 id=\"ioc-inversion-of-control-제어의-역전\" style=\"position:relative;\"><a href=\"#ioc-inversion-of-control-%EC%A0%9C%EC%96%B4%EC%9D%98-%EC%97%AD%EC%A0%84\" aria-label=\"ioc inversion of control 제어의 역전 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IoC (Inversion of Control, 제어의 역전)</h1>\n<p>제어의 역전이란 객체 또는 프로그램 일부에 대한 제어 권한을 컨테이너 또는 프레임워크에 넘기는 소프트웨어 공학론의 원칙중 하나이다.\n말로만 들으면 잘 이해가 되지 않을 것이다.\n외부 라이브러리의 사용을 예시로 들어보면, 이전까지는 우리가 라이브러리를 호출하여 사용만 하였다.\nIOC를 적용한다면 우리가 라이브러리를 호출하여 사용하는 것이 아니라 외부(프레임워크)에서 우리의 코드와 라이브러리를 호출하며 프로그램의 흐름을 제어할 것이다.</p>\n<p>스프링은 앞서 말했듯이 Bean(객체)들의 생성, 소멸에 관련된 작업을 수행해줍니다.\n여기서 Bean이 생성될 때는 어떠한 객체를 주입받을지에 대한 결정들까지 스프링이 해주게 되는데 이것이 스프링의 IoC이다.</p>\n<p>즉, DI는 스프링에서 IoC를 구현한하는데 사용하는 패턴이다.</p>\n<h2 id=\"ioc의-장점은-아래와-같다\" style=\"position:relative;\"><a href=\"#ioc%EC%9D%98-%EC%9E%A5%EC%A0%90%EC%9D%80-%EC%95%84%EB%9E%98%EC%99%80-%EA%B0%99%EB%8B%A4\" aria-label=\"ioc의 장점은 아래와 같다 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IOC의 장점은 아래와 같다.</h2>\n<ul>\n<li>다른 구현체로 변경하기 쉽다. (유연성 ⬆️)</li>\n<li>프로그램을 모듈들로 나누기 쉽다. (객체간 결합도 ⬇️)</li>\n<li>작업의 실행과 구현을 분리할 수 있다.</li>\n<li>컴포넌트를 격리하거나 의존성을 mocking하는 등의 작업을 통해 테스트를 하기 쉽다.</li>\n</ul>\n<h1 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h1>\n<p>내용을 정리해보자면 IoC는 객체 또는 프로그램의 제어 권한을 프레임워크에 넘기는 기술이다.\n스프링은 IoC를 구현하기 위해 DI를 사용고 있으며 덕분에 클래스 간의 강한 결합을 분리해준다.\n스프링이 어플리케이션 실행 시점에 객체들을 생성하고 관계를 맺어주는 DI를 제공해주는 덕분에 객체들간의 결합도를 낮추고 유연성을 확보할 수 있다.</p>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans\">Core Technologies - 1.The IoC Container</a></li>\n<li><a href=\"https://www.baeldung.com/inversion-control-and-dependency-injection-in-spring\">Intro to Inversion of Control and Dependency Injection with Spring</a></li>\n<li><a href=\"https://book.naver.com/bookdb/book_detail.nhn?bid=13786861\">초보 웹 개발자를 위한 스프링5 프로그래밍 입문</a></li>\n<li><a href=\"https://mangkyu.tistory.com/150\">[Spring] 의존성 주입(Dependency Injection, DI)이란? 및 Spring이 의존성 주입을 지원하는 이유 (MangKyu's Diary)</a></li>\n<li><a href=\"https://velog.io/@gillog/Spring-DIDependency-Injection\">[Spring] DI, IoC 정리</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtki { font-style: italic; }\n  .one-dark-pro .mtk9 { color: #C678DD; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk11 { color: #E5C07B; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#di-dependency-injection\">DI (Dependency Injection)</a></p>\n<ul>\n<li>\n<p><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#%EC%99%9C-di%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C\">왜 DI를 사용할까?</a></p>\n<ul>\n<li><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#%ED%81%B4%EB%9E%98%EC%8A%A4%EC%9D%98-%EA%B0%95%ED%95%9C-%EA%B2%B0%ED%95%A9-%EC%9C%A0%EC%97%B0%EC%84%B1-\">클래스의 강한 결합 (유연성 )</a></li>\n<li><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#%EA%B0%9D%EC%B2%B4%EA%B0%80-%EC%95%84%EB%8B%8C-%ED%81%B4%EB%9E%98%EC%8A%A4-%EA%B0%84%EC%9D%98-%EA%B4%80%EA%B3%84\">객체가 아닌 클래스 간의 관계</a></li>\n</ul>\n</li>\n<li><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#%EA%B0%9D%EC%B2%B4-%EC%A1%B0%EB%A6%BD%EA%B8%B0assembler\">객체 조립기(Assembler)</a></li>\n<li><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#%EC%8A%A4%ED%94%84%EB%A7%81%EC%9D%98-di\">스프링의 DI</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#ioc-inversion-of-control-%EC%A0%9C%EC%96%B4%EC%9D%98-%EC%97%AD%EC%A0%84\">IoC (Inversion of Control, 제어의 역전)</a></p>\n<ul>\n<li><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#ioc%EC%9D%98-%EC%9E%A5%EC%A0%90%EC%9D%80-%EC%95%84%EB%9E%98%EC%99%80-%EA%B0%99%EB%8B%A4\">IOC의 장점은 아래와 같다.</a></li>\n</ul>\n</li>\n<li><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#%EC%A0%95%EB%A6%AC\">정리</a></li>\n<li><a href=\"/Spring/20220614-%EC%8A%A4%ED%94%84%EB%A7%81-DI-IoC/#reference\">Reference</a></li>\n</ul>","frontmatter":{"date":"2022년 06월 14일","title":"[Spring] DI,IoC란 무엇일까?","tags":["SpringFramework","DI","IoC"]}}},"pageContext":{"slug":"/Spring/20220614-스프링-DI-IoC/","previous":{"fields":{"slug":"/Spring/20220502-스프링-error-Illegal-reflection/"},"frontmatter":{"title":"[Spring 에러처리] Illegal reflective access by org.springframework.cglib.core.ReflectUtils"}},"next":{"fields":{"slug":"/Spring/20220615-RequestParam-RequestBody-ModelAndAttribute비교/"},"frontmatter":{"title":"[Spring] - @RequestParam, @RequestBody, @ModelAndAttribute 차이 비교"}}}},"staticQueryHashes":["3911196313","4111100897"]}