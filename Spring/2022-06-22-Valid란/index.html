<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0"/><style data-href="/styles.d53766664f3eaba3db40.css" id="gatsby-global-css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}</style><meta name="generator" content="Gatsby 2.32.13"/><style type="text/css">
    .toc-header.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .toc-header.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .toc-header svg,
    h2 .toc-header svg,
    h3 .toc-header svg,
    h4 .toc-header svg,
    h5 .toc-header svg,
    h6 .toc-header svg {
      visibility: hidden;
    }
    h1:hover .toc-header svg,
    h2:hover .toc-header svg,
    h3:hover .toc-header svg,
    h4:hover .toc-header svg,
    h5:hover .toc-header svg,
    h6:hover .toc-header svg,
    h1 .toc-header:focus svg,
    h2 .toc-header:focus svg,
    h3 .toc-header:focus svg,
    h4 .toc-header:focus svg,
    h5 .toc-header:focus svg,
    h6 .toc-header:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32-219f5f1c2ff5084c4162c59e17deafcf.png" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#3F4145"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48-219f5f1c2ff5084c4162c59e17deafcf.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72-219f5f1c2ff5084c4162c59e17deafcf.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96-219f5f1c2ff5084c4162c59e17deafcf.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144-219f5f1c2ff5084c4162c59e17deafcf.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192-219f5f1c2ff5084c4162c59e17deafcf.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256-219f5f1c2ff5084c4162c59e17deafcf.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384-219f5f1c2ff5084c4162c59e17deafcf.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512-219f5f1c2ff5084c4162c59e17deafcf.png"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">[Spring] Validation Annotation이란? + DTO에서는 어디까지 검증해야할까? | Seongwon.dev</title><meta data-react-helmet="true" name="description" content="Java Validation API란? HTTP request를 통해 Post Request와 같이 데이터를 받는 request를 받을 경우 데이터가 올바른 형식인지, 올바른 값인지 확인을 하고 만약 올바르지 않은 값이 들어온다면 Bad request를 보내야 할 것이다. 예를 들어 위의 Json형식의 데이터가 POST request의 Body로 넘어왔다…"/><meta data-react-helmet="true" property="og:title" content="[Spring] Validation Annotation이란? + DTO에서는 어디까지 검증해야할까?"/><meta data-react-helmet="true" property="og:image" content="/static/social-image-a9505eec87be8dc332d0538480aeaa09.png"/><meta data-react-helmet="true" property="og:description" content="Java Validation API란? HTTP request를 통해 Post Request와 같이 데이터를 받는 request를 받을 경우 데이터가 올바른 형식인지, 올바른 값인지 확인을 하고 만약 올바르지 않은 값이 들어온다면 Bad request를 보내야 할 것이다. 예를 들어 위의 Json형식의 데이터가 POST request의 Body로 넘어왔다…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:image" content="/static/social-image-a9505eec87be8dc332d0538480aeaa09.png"/><meta data-react-helmet="true" name="twitter:creator" content="Seongwon"/><meta data-react-helmet="true" name="twitter:title" content="[Spring] Validation Annotation이란? + DTO에서는 어디까지 검증해야할까?"/><meta data-react-helmet="true" name="twitter:description" content="Java Validation API란? HTTP request를 통해 Post Request와 같이 데이터를 받는 request를 받을 경우 데이터가 올바른 형식인지, 올바른 값인지 확인을 하고 만약 올바르지 않은 값이 들어온다면 Bad request를 보내야 할 것이다. 예를 들어 위의 Json형식의 데이터가 POST request의 Body로 넘어왔다…"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-23a124539972f1f6bd94.js"/><link as="script" rel="preload" href="/framework-eb684e3e828ad13b3940.js"/><link as="script" rel="preload" href="/styles-84a9bc99193fe5828ffe.js"/><link as="script" rel="preload" href="/dc6a8720040df98778fe970bf6c000a41750d3ae-17eb047fb821ccbad0b0.js"/><link as="script" rel="preload" href="/app-a7357771ecd5ee9dba56.js"/><link as="script" rel="preload" href="/d7eeaac4-dcbe97e7a5aa158c9d08.js"/><link as="script" rel="preload" href="/5e2a4920-da90abce4a08c86a094c.js"/><link as="script" rel="preload" href="/1bfc9850-409296e666dade882413.js"/><link as="script" rel="preload" href="/commons-b806c452faf7cf32e6ea.js"/><link as="script" rel="preload" href="/7a297f752dcfe258c0b0106d89edb3a916af916e-35686b2093ef54ff3248.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-c13fb2d53b7ec5e4b38f.js"/><link as="fetch" rel="preload" href="/page-data/Spring/2022-06-22-Valid란/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3911196313.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4111100897.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript><style data-emotion-css="1vyo7ug">.css-1vyo7ug{position:fixed;bottom:0;left:0;margin-left:0.5rem;margin-bottom:0.5rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));font-size:0.875rem;font-weight:700;padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0.75rem;background-color:#86a8e7;z-index:9999;}</style><div class="css-1vyo7ug"><style data-emotion-css="5x4yj0">.css-5x4yj0{fill:currentColor;width:1.5rem;height:1.5rem;margin-right:0.5rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" class="css-5x4yj0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg><style data-emotion-css="1f2k2gl">.css-1f2k2gl{margin-left:0.5rem;}</style><div class="css-1f2k2gl">Please enable JavaScript to use this site.<br/>JavaScript를 활성화 시켜주세요.</div></div></noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="f6s0ma">.css-f6s0ma{-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#333333;}</style><style data-emotion-css="acifd">.css-acifd{min-height:100vh;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#333333;}</style><div class="css-acifd e1r7j5660"><style data-emotion-css="8ezs2g">.css-8ezs2g{min-height:calc(100vh - 100px);}</style><div class="css-8ezs2g"><style data-emotion-css="1yxw6gp">.css-1yxw6gp{background:linear-gradient( 90deg,#7f7fd5,#86a8e7 );}</style><div class="css-1yxw6gp"><style data-emotion-css="1mqm4zt">.css-1mqm4zt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:1280px;margin-left:auto;margin-right:auto;padding:1.25rem;}</style><nav class="css-1mqm4zt esdsp220"><style data-emotion-css="1usmgm5">.css-1usmgm5{font-size:1.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));font-weight:700;}</style><a class="css-1usmgm5" href="/">Seongwon.dev</a><a aria-label="search page" href="/search"><style data-emotion-css="47445j">.css-47445j{--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));margin-top:auto;margin-bottom:auto;width:2rem;height:2rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-47445j" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></a></nav></div><style data-emotion-css="aod07n">.css-aod07n{background:linear-gradient( 90deg,#7f7fd5,#86a8e7 );position:fixed;width:100%;box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);z-index:100;-webkit-transition:all 300ms cubic-bezier(0,0,0.2,1);transition:all 300ms cubic-bezier(0,0,0.2,1);top:-100px;}</style><div class="css-aod07n"><nav class="css-1mqm4zt esdsp220"><a class="css-1usmgm5" href="/">Seongwon.dev</a><a aria-label="search page" href="/search"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-47445j" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></a></nav></div><style data-emotion-css="w27u98">.css-w27u98{margin-top:1rem;padding-left:1rem;padding-right:1rem;}</style><div class="blog-post-container css-w27u98"><div class="blog-post"><style data-emotion-css="1bdwg0l">.css-1bdwg0l{width:100%;max-width:768px;margin-left:auto;margin-right:auto;}</style><div class="css-1bdwg0l etadk2t0"><style data-emotion-css="1abxlfd">.css-1abxlfd{font-size:2.25rem;font-weight:700;margin-bottom:1rem;}@media (min-width:768px){.css-1abxlfd{font-size:3rem;}}</style><h1 class="blog-title css-1abxlfd">[Spring] Validation Annotation이란? + DTO에서는 어디까지 검증해야할까?</h1><style data-emotion-css="cpn9zx">.css-cpn9zx{font-size:1rem;margin-bottom:1rem;}</style><h2 class="blog-date css-cpn9zx">2022년 06월 22일</h2><style data-emotion-css="cet0rr">.css-cet0rr{margin-bottom:0.5rem;}</style><div class="blog-tags css-cet0rr"><style data-emotion-css="1ak4bcm">.css-1ak4bcm{white-space:nowrap;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);font-size:1rem;font-weight:700;border-radius:9999px;margin-right:0.5rem;margin-top:0.25rem;margin-bottom:0.25rem;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.75rem;padding-right:0.75rem;background-color:#edf2f7;color:#3737B9;}</style><button class="css-1ak4bcm">SpringFramework</button><button class="css-1ak4bcm">Java</button><button class="css-1ak4bcm">Validation API</button><button class="css-1ak4bcm">JSR 380</button><button class="css-1ak4bcm">Valid</button></div><style data-emotion-css="1l4w6pd">.css-1l4w6pd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}</style><div class="css-1l4w6pd"><style data-emotion-css="yapsbb">.css-yapsbb{border-radius:9999px;width:100%;height:1px;--bg-opacity:1;background-color:rgba(247,250,252,var(--bg-opacity));background:linear-gradient( 270deg,#7f7fd5,#86a8e7,#91eac9 );}</style><div class="css-yapsbb"></div></div></div><div class="blog-content"><style data-emotion-css="19vk1qv">.css-19vk1qv{-webkit-scrollbar-width:thin;-moz-scrollbar-width:thin;-ms-scrollbar-width:thin;scrollbar-width:thin;-webkit-scrollbar-color:gray transparent;-moz-scrollbar-color:gray transparent;-ms-scrollbar-color:gray transparent;scrollbar-color:gray transparent;display:none;}.css-19vk1qv::-webkit-scrollbar{width:4px;}.css-19vk1qv::-webkit-scrollbar-track{background-color:transparent;}.css-19vk1qv::-webkit-scrollbar-thumb{border-radius:9999px;background-color:gray;}.css-19vk1qv::-webkit-scrollbar-button{width:0;height:0;}@media screen and (min-width:1280px){.css-19vk1qv{float:right;position:-webkit-sticky;position:sticky;top:100px;width:calc((100vw - 720px) / 2 - 80px);max-width:250px;margin-right:1rem;overflow:auto;word-break:break-word;max-height:calc(100vh - 200px);fontsize:1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-left-width:4px;border-image:linear-gradient( 180deg,#7f7fd5,#86a8e7,#91eac9 );border-image-slice:1;}}</style><div class="css-19vk1qv"><style data-emotion-css="13af3fo">.css-13af3fo{margin-left:1rem;margin-right:1rem;}</style><div class="css-13af3fo"><style data-emotion-css="17i5xbf">.css-17i5xbf{font-weight:700;margin-bottom:0.5rem;font-size:1.125rem;--text-opacity:1;color:rgba(74,85,104,var(--text-opacity));}</style><h3 class="css-17i5xbf">TOC</h3><style data-emotion-css="1me4zjn">.css-1me4zjn ul{margin-left:0.5rem;}.css-1me4zjn ul > li a:hover{color:#555555;}.css-1me4zjn ul > li a{-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);--text-opacity:1;color:rgba(160,174,192,var(--text-opacity));font-size:0.875rem;}.css-1me4zjn ul > li a[href=""]{font-size:0.95rem;color:#555555;}</style><div class="css-1me4zjn"><ul>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#java-validation-api%EB%9E%80">Java Validation API란?</a></li>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#2-validation-api%EC%82%AC%EC%9A%A9-%EC%84%A4%EC%A0%95">2. Validation API사용 설정</a></li>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#3-valication-annotation-%EC%A2%85%EB%A5%98">3. Valication annotation 종류</a></li>
<li>
<p><a href="/Spring/2022-06-22-Valid%EB%9E%80/#4-validation-api%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0">4. Validation API사용하기</a></p>
<ul>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#41-%EC%98%88%EC%99%B8-%EB%A9%94%EC%8B%9C%EC%A7%80-%EB%8B%B4%EA%B8%B0">4.1. 예외 메시지 담기</a></li>
</ul>
</li>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#5-valid%EC%9D%98-%EA%B2%80%EC%A6%9D-%EC%8B%9C%EC%A0%90">5. @Valid의 검증 시점</a></li>
<li>
<p><a href="/Spring/2022-06-22-Valid%EB%9E%80/#6-valid%EC%97%90%EC%84%9C-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-exception-handling">6. @Valid에서 발생하는 Exception Handling</a></p>
<ul>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#61-exceptionhandler-%EC%82%AC%EC%9A%A9">6.1. ExceptionHandler 사용</a></li>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#62-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EC%97%90%EC%84%9C-%EC%9E%A1%EA%B8%B0">6.2. 컨트롤러 메서드에서 잡기</a></li>
</ul>
</li>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#7-dto%EC%97%90%EC%84%9C%EB%8A%94-valid%EB%A1%9C-%EC%96%B4%EB%94%94%EA%B9%8C%EC%A7%80-%EA%B2%80%EC%A6%9D%ED%95%B4%EC%95%BC%ED%95%A0%EA%B9%8C">7. DTO에서는 @Valid로 어디까지 검증해야할까?</a></li>
<li><a href="/Spring/2022-06-22-Valid%EB%9E%80/#reference">Reference</a></li>
</ul></div></div></div><div class="css-1bdwg0l etadk2t0"><div><style data-emotion-css="c0q8g3">.css-c0q8g3{font-size:1rem;word-break:break-word;}.css-c0q8g3 h1 > a > svg,.css-c0q8g3 h2 > a > svg,.css-c0q8g3 h3 > a > svg,.css-c0q8g3 h4 > a > svg,.css-c0q8g3 h5 > a > svg,.css-c0q8g3 h6 > a > svg{fill:#000;}.css-c0q8g3 h1,.css-c0q8g3 h2{font-size:1.25rem;font-weight:600;margin-top:1.5rem;margin-bottom:1.5rem;}.css-c0q8g3 h3,.css-c0q8g3 h4,.css-c0q8g3 h5,.css-c0q8g3 h6{font-size:1.125rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:600;}@media (min-width:640px){.css-c0q8g3 h1,.css-c0q8g3 h2{font-size:1.5rem;}.css-c0q8g3 h3,.css-c0q8g3 h4,.css-c0q8g3 h5,.css-c0q8g3 h6{font-size:1.25rem;}}.css-c0q8g3 a{color:#3737B9;}.css-c0q8g3 a:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-c0q8g3 p{margin:0.3rem;margin-top:0.75rem;margin-bottom:0.75rem;}.css-c0q8g3 ul,.css-c0q8g3 ol{margin:0.3rem;margin-left:2rem;}.css-c0q8g3 li > p,.css-c0q8g3 li > ul,.css-c0q8g3 li > ol{margin-bottom:0;}.css-c0q8g3 ol{list-style-type:decimal;}.css-c0q8g3 ul{list-style-type:disc;}.css-c0q8g3 blockquote{padding:0.5rem;background-color:#eee;margin:0.3rem;margin-top:0.5rem;margin-bottom:0.5rem;border-left-width:4px;border-color:#86a8e7;}.css-c0q8g3 blockquote > p{margin:0.5rem;}.css-c0q8g3 blockquote > h1,.css-c0q8g3 blockquote > h2,.css-c0q8g3 blockquote > h3,.css-c0q8g3 blockquote > h4,.css-c0q8g3 blockquote > h5{margin-top:0.5rem;margin-bottom:0.5rem;}.css-c0q8g3 td,.css-c0q8g3 th{padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-width:1px;border-color:#86a8e7;}.css-c0q8g3 tr:nth-of-type(even){background-color:#eee;}.css-c0q8g3 th{background-color:#eee;}.css-c0q8g3 table{margin-bottom:1.5rem;display:block;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;margin:0 auto;overflow-x:auto;white-space:nowrap;}.css-c0q8g3 p > code,.css-c0q8g3 li > code{padding-top:0.1rem;padding-bottom:0.1rem;padding-right:0.25rem;padding-left:0.25rem;border-radius:0.25rem;color:#3737B9;background-color:#eee;white-space:pre-line;}.css-c0q8g3 pre.grvsc-container{margin-top:24px;margin-bottom:24px;}.css-c0q8g3 hr{margin-top:24px;margin-bottom:24px;height:2px;border:none;background:linear-gradient( 270deg,#7f7fd5,#86a8e7,#91eac9 );}</style><div class="markdown css-c0q8g3"><h1 id="java-validation-api란" style="position:relative;"><a href="#java-validation-api%EB%9E%80" aria-label="java validation api란 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Java Validation API란?</h1>
<p>HTTP request를 통해 Post Request와 같이 데이터를 받는 request를 받을 경우 데이터가 올바른 형식인지, 올바른 값인지 확인을 하고 만약 올바르지 않은 값이 들어온다면 Bad request를 보내야 할 것이다.</p>
<pre class="grvsc-container one-dark-pro" data-language="json" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">&quot;name&quot;</span><span class="mtk1">: </span><span class="mtk6">&quot;렉스&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">&quot;age&quot;</span><span class="mtk1">: </span><span class="mtk7">26</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">&quot;email&quot;</span><span class="mtk1">: </span><span class="mtk6">&quot;qwewqd&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">&quot;phoneNumber&quot;</span><span class="mtk1">: </span><span class="mtk6">&quot;0111111&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>예를 들어 위의 Json형식의 데이터가 POST request의 Body로 넘어왔다고 생각해보자. 위의 데이터를 보면 Email형식이 맞지 않고 전화번호의 형식 또한 일반적인 xxx-xxxx-xxxx의 형태가 아닌 것을 확인 할 수 있다.</p>
<p>요청 값들을 검증하는 방법에는 어떤 방법이 있을까?? 먼저 도메인 객체인 User에서 검증을 하는 방법이 존재한다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">User</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> name</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk9">int</span><span class="mtk4"> age</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> email</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> phoneNumber</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> User</span><span class="mtk1">(</span><span class="mtk11">String</span><span class="mtk1"> </span><span class="mtk4 mtki">name</span><span class="mtk1">, </span><span class="mtk9">int</span><span class="mtk1"> </span><span class="mtk4 mtki">age</span><span class="mtk1">, </span><span class="mtk11">String</span><span class="mtk1"> </span><span class="mtk4 mtki">email</span><span class="mtk1">, </span><span class="mtk11">String</span><span class="mtk1"> </span><span class="mtk4 mtki">phoneNumber</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">validateAge</span><span class="mtk1">(age);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">validateEmailForm</span><span class="mtk1">(email);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">validatePhoneNumberForm</span><span class="mtk1">(phoneNumber);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">this</span><span class="mtk1">.</span><span class="mtk4">name</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> name;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">				</span><span class="mtk11">this</span><span class="mtk1">.</span><span class="mtk4">age</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> age;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">this</span><span class="mtk1">.</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> email;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">this</span><span class="mtk1">.</span><span class="mtk4">phoneNumber</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> phoneNumber;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">		</span><span class="mtk1">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>도메인에서 검증을 할 경우, 도메인 객체 값에 대한 안정성이 보장이 될 것이다. 하지만 잘못된 요청 값을 검증하기까지 Service계층까지 내려와야한다는 단점이 있다.</p>
<p>Service 계층까지 내려가지 않고 Controller단에서 잘못된 값에 이전에 검증을 하게되면 어떻게 될까? 컨트롤러에서 if문을 사용하여 DTO 값의 오류를 체크하고 조건에 만족하지 못하면 bad request를 보내는 식으로 검증을 할 수 있을 것이다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">RestController</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">MemberController</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">PostMapping</span><span class="mtk4">(</span><span class="mtk6">&quot;/user&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk11">ResponseEntity</span><span class="mtk3"> user</span><span class="mtk1">(@</span><span class="mtk11">RequestBody</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> </span><span class="mtk4 mtki">user</span><span class="mtk1">){</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">if</span><span class="mtk1">(</span><span class="mtk3">isInvalidEmailForm</span><span class="mtk1">(</span><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk3">getEmail</span><span class="mtk1">()))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">ResponseEntity</span><span class="mtk1">.</span><span class="mtk3">status</span><span class="mtk1">(</span><span class="mtk11">HttpStatus</span><span class="mtk1">.</span><span class="mtk4">BAD_REQUEST</span><span class="mtk1">).</span><span class="mtk3">body</span><span class="mtk1">(user);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">ResponseEntity</span><span class="mtk1">.</span><span class="mtk3">ok</span><span class="mtk1">(user);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">		</span><span class="mtk1">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>하지만 이러한 방식은 적은 양의 값에 대해서 조건을 걸면 크게 문제가 없지만 여러 값에 대해 하나씩 조건을 걸기에는 코드의 길이가 길어지고 복잡해질 것이다. 또한 구현에 따라 Service logic과의 분리가 필요하고 코드가 흩어져 있는 경우 어디에서 검증을 하는지 알기 어려우며 재사용의 한계가 있다.</p>
<p>자바에서는 이러한 검증을 편하게 할 수 있도록 <strong>Java Validation API(<em>Bean Validation, JSR 380</em>)</strong>를 제공하고 있다. Java Validation API를 사용하면 이러한 Request의 잘못된 데이터를 Service 단으로 내려오기 전에 쉽게 검증할 수 있다.</p>
<h1 id="2-validation-api사용-설정" style="position:relative;"><a href="#2-validation-api%EC%82%AC%EC%9A%A9-%EC%84%A4%EC%A0%95" aria-label="2 validation api사용 설정 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Validation API사용 설정</h1>
<p><strong>build.gradle</strong>의 dependencies에 다음과 같이 validation 의존성을 추가해준다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">dependencies {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    implementation </span><span class="mtk6">&#39;org.springframework.boot:spring-boot-starter-validation&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">}</span></span></span></code></pre>
<p>이전에는 javax.validation 을 사용하였으나 SpringBoot가 버전업을 하면서 web 의존성안에 있던 constraints packeage가 모듈로 빠지게 되었다.</p>
<h1 id="3-valication-annotation-종류" style="position:relative;"><a href="#3-valication-annotation-%EC%A2%85%EB%A5%98" aria-label="3 valication annotation 종류 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Valication annotation 종류</h1>
<ul>
<li>
<p><code>@AssertFalse</code></p>
<ul>
<li>거짓이어야 한다.</li>
<li>null은 유효한 것으로 간주한다.</li>
<li>지원되는 타입: boolean, Boolean</li>
</ul>
</li>
<li>
<p><code>@AssertTrue</code></p>
<ul>
<li>참이어야 한다.</li>
<li>null은 유효한 것으로 간주한다.</li>
<li>지원되는 타입: boolean, Boolean</li>
</ul>
</li>
<li>
<p><code>@Email</code></p>
<ul>
<li>이메일 형식이어야 한다.</li>
<li>지원되는 타입: CharSequence</li>
</ul>
</li>
<li>
<p><code>@Future</code></p>
<ul>
<li>미래의 날짜, 또는 시간이어야 한다.</li>
<li>null은 유효한 것으로 간주한다.</li>
<li>지원되는 타입: Date, Calendar, Instant, LocalDate, LocalDateTime 등</li>
</ul>
</li>
<li>
<p><code>@Past</code></p>
<ul>
<li>과거의 순간, 날짜 또는 시간이어야 한다.</li>
<li>null은 유효한 것으로 간주한다.</li>
<li>지원되는 타입: Date, Calendar, Instant, LocalDate, LocalDateTime 등</li>
</ul>
</li>
<li>
<p><code>@Max(value=)</code>:</p>
<ul>
<li>value보다 작거나 같아야 한다.</li>
<li>null은 유효한 것으로 간주한다.</li>
<li>지원되는 타입: BigDecimal, BigInteger, byte, short, int, long 및 각각의 래퍼 클래스</li>
<li>double, float는 지원되지 않는다.</li>
</ul>
</li>
<li>
<p><code>@Min(value=)</code></p>
<ul>
<li>value보다 크거나 같아야 한다.</li>
<li>null은 유효한 것으로 간주한다.</li>
<li>지원되는 타입: BigDecimal, BigInteger, byte, short, int, long 및 각각의 래퍼 클래스</li>
<li>double, float는 지원되지 않는다.</li>
</ul>
</li>
<li>
<p><code>@NotNull</code></p>
<ul>
<li>Null이 아니어야 한다.</li>
<li>지원되는 타입: 모든 타입</li>
</ul>
</li>
<li>
<p><code>@NotBlank</code></p>
<ul>
<li>Null이 아니어야하며 하나 이상의 공백이 아닌 문자를 포함해야 한다.</li>
<li>지원되는 타입: CharSequence</li>
</ul>
</li>
<li>
<p><code>@NotEmpty</code>:</p>
<ul>
<li>Null이거나 비어있으면 안 된다.</li>
<li>지원되는 타입: CharSequence, Collection, Map, Array</li>
</ul>
</li>
<li>
<p><code>@Pattern(regexp=)</code></p>
<ul>
<li>문자열은 regexp에 지정된 정규식과 일치하여야 한다.</li>
<li>지원되는 타입: CharSequence</li>
</ul>
</li>
<li>
<p><code>@Size(min=, max=)</code></p>
<ul>
<li>크기가 해당 범위 내에 있어야 한다.</li>
<li>null은 유효한 것으로 간주한다.</li>
<li>min의 default값은 0, max의 default값은 2147483647이다.</li>
<li>지원되는 타입: CharSequence, Collection, Map, Array</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>@NotNull</code>, <code>@NotBlank</code>, <code>@NotEmpty</code>을 통한 검증은 어노테이션이 비슷한 이름을 가져서 헷갈릴 수가 있다.</p>
</blockquote>
<ul>
<li><code>@NotNull</code>: 값이 반드시 존재해야 한다.</li>
<li><code>@NotEmpty</code>: null이 아니어야하고 문자열의 크기가 반드시 0보다 커야한다.</li>
<li>
<p><code>@NotBlank</code>: null이 아니어야하고 공백을 제외한 문자열의 길이가 0보다 커야한다. (String str = “ ”; 에서는 공백을 제외하면 길이가 0이라 예외가 발생하게 된다.)</p>
<blockquote>
</blockquote>
</li>
</ul>
<blockquote>
<p>더 많은 정보는 <a href="https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/">다음 사이트</a>에서 확인할 수 있습니다.</p>
</blockquote>
<h1 id="4-validation-api사용하기" style="position:relative;"><a href="#4-validation-api%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" aria-label="4 validation api사용하기 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Validation API사용하기</h1>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">UserRequest</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">NotBlank</span><span class="mtk4"> </span><span class="mtk5 mtki">// null값과 공백 문자열을 허용안함</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> name</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Max</span><span class="mtk4">(</span><span class="mtk7">value</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk7">90</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">int</span><span class="mtk4"> age</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Email</span><span class="mtk4"> </span><span class="mtk5 mtki">// -&gt; email형식이 아닌 데이터가 들어오면 오류 발생시킨다.</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> email</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Pattern</span><span class="mtk4">(</span><span class="mtk7">regexp</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;^</span><span class="mtk8">\\\\</span><span class="mtk6">d{2,3}-</span><span class="mtk8">\\\\</span><span class="mtk6">d{3,4}-</span><span class="mtk8">\\\\</span><span class="mtk6">d{4}$&quot;</span><span class="mtk1">,</span><span class="mtk4"> </span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;핸드폰 번호의 약식과 맞지 않습니다. xxx-xxxx-xxxx&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk5 mtki">// 받아들이는 문자의 형태를 직접 제한하는 방법 (정규식을 사용)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk5 mtki">// message에는 error가 발생했을 때 출력할 메세지를 적는다.</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> phoneNumber</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>Java Validation API을 사용하기 위해서는 DTO객체의 변수 위에 데이터의 검증을 하고싶은 검증 어노테이션을 추가해줘야 한다.</p>
<p>위의 User class를 보면 name의 경우는 null값과 공백 문자열을 제한하기 위해 <code>@NotBlank</code>를 추가하였으며, age의 경우 <code>@Max</code>값을 90으로 제한하여 90이상의 값이 들어오면 예외를 발생시키는 제한을 하였다.
또한 email의 경우 <code>@Email</code>을 통해 email형식이 들어오는지 확인을 해주며, PhoneNumber의 경우는 <code>@Pattern</code>과 정규식을 통해 전화번호 형태를 제한하였다. (정규식의 경우 필요에 따라 구글을 통해 찾아보고 사용하면 된다.)</p>
<p>RequestDTO에 검증 어노테이션을 붙인다고 검증이 적용되는 것은 아니다. 해당 어노테이션들을 활성화하려면 해당 DTO를 사용하는 컨트롤러 메서드의 매개변수 앞에 <code>@Valid</code>를 붙여줘야 한다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">RestController</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">MemberController</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">PostMapping</span><span class="mtk4">(</span><span class="mtk6">&quot;/user&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk11">ResponseEntity</span><span class="mtk3"> user</span><span class="mtk1">(@</span><span class="mtk11">Valid</span><span class="mtk1"> @</span><span class="mtk11">RequestBody</span><span class="mtk1"> </span><span class="mtk11">UserRequest</span><span class="mtk1"> </span><span class="mtk4 mtki">request</span><span class="mtk1">){</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">ResponseEntity</span><span class="mtk1">.</span><span class="mtk3">ok</span><span class="mtk1">(request);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>위의 코드를 실행하였을 때 결과를 확인해보자</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 43%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGklEQVQoz4WS207DMAyG8/JDjFsm6PPAmASMN5nUNllzdn7sNB0Fic3SJzs+1Y2jYgwopSClhJwzChGIkbPgnQOFOecaUiP1ytoJ3ntYa+eGLVhh2/U9/OkEivFqQxHRimhucJFVknxAWPy3pDZE5mZSlP7APgoR0fk6XQ4zYtdpY/qBr2b2RajAndM/RMYyjjkzhvHNvya0PImpsHkEHjqU7TPonmFdViwxbLtmd7/ikh83O6S7Hdc/QeXXD9D+s4LDF/B2RGE7v7xfEH9pOUKRnIX9sdYQ95FctYysC9Xx2wqwrMmUjD4HTO2X3I3FKDdNsAzJxcqzkQXJ1isFxpwxGg3LT0vOxAsz44hxGKBZa9ZGa4z9wPT4BmwLrbfXdxk+AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="catchWrongValue"
        title="catchWrongValue"
        src="/static/72bf44d8a1eb11aedb5f1e1924a0399c/c1b63/catchWrongValue.png"
        srcset="/static/72bf44d8a1eb11aedb5f1e1924a0399c/5a46d/catchWrongValue.png 300w,
/static/72bf44d8a1eb11aedb5f1e1924a0399c/0a47e/catchWrongValue.png 600w,
/static/72bf44d8a1eb11aedb5f1e1924a0399c/c1b63/catchWrongValue.png 1200w,
/static/72bf44d8a1eb11aedb5f1e1924a0399c/61946/catchWrongValue.png 1546w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>Validation API가 정상 동작하여 형식이 맞지 않는 data를 전송하였을 때 HTTP status 400을 반환하는 것을 확인할 수 있다.</p>
<h2 id="41-예외-메시지-담기" style="position:relative;"><a href="#41-%EC%98%88%EC%99%B8-%EB%A9%94%EC%8B%9C%EC%A7%80-%EB%8B%B4%EA%B8%B0" aria-label="41 예외 메시지 담기 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.1. 예외 메시지 담기</h2>
<p>웹에서 사용자의 잘못된 입력 값에 따른 피드백을 주는 것은 중요한 작업이다. 상황별 메시지를 보내기 위해 우리는 비즈니스 로직을 수행하며 발생한 Exception들은 <code>new IllegalArgumentException(”예외 발생 메시지”);</code> 와 같이 메시지를 담은 예외를 발생시킨다. Validation API에서도 검증이 실패하였을 때 Exception에 담을 메시지를 설정할 수 있다. 방법은 간단하다. 단순히 annotation의 message옵션 값에 담고 싶은 메시지를 설정해두면 된다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">SignUpRequest</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">NotBlank</span><span class="mtk4">(</span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;이메일은 빈 값일 수 없습니다.&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Email</span><span class="mtk4">(</span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;올바르지 않은 형식의 이메일입니다.&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> email</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">NotBlank</span><span class="mtk4">(</span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;이름은 빈 값일 수 없습니다.&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> name</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">NotBlank</span><span class="mtk4">(</span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;비밀번호는 빈 값일 수 없습니다.&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> password</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>이와 같이 메시지를 설정해두면 예외를 핸들링할 때 해당 메시지를 통해 사용자에게 피드백을 줄 수 있다.</p>
<h1 id="5-valid의-검증-시점" style="position:relative;"><a href="#5-valid%EC%9D%98-%EA%B2%80%EC%A6%9D-%EC%8B%9C%EC%A0%90" aria-label="5 valid의 검증 시점 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. @Valid의 검증 시점</h1>
<p>스프링 부트는 컨트롤러 메서드 매개변수에서 @Valid 어노테이션을 발견하면 JSR 380 구현체인 Hibernate Validator를 자동으로 실행하고 Arguement를 검증한다. 그러면 실질적인 검증은 어느 시점에 하는 걸까?? 이를 알기 위해서는 먼저 스프링 MVC의 동작 방식을 알아야 한다.</p>
<p>스프링 MVC는 사용자로부터 요청이 왔을 때, 아래와 같은 과정을 거치며 요청을 처리하게 된다.</p>
<blockquote>
<p>해당 과정을 잘 모르겠다면 다음 게시글을 참고하길 바란다.</p>
</blockquote>
<ul>
<li><a href="https://seongwon97.github.io/posts/%EC%8A%A4%ED%94%84%EB%A7%81MVC-%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D/">스프링 - MVC 동작 방식 이해하기</a></li>
<li>
<p><a href="https://seongwon97.github.io/posts/Controller%EC%99%80RestController%EC%B0%A8%EC%9D%B4/">스프링 - @RestController와 @Controller 비교하기</a></p>
<blockquote>
</blockquote>
</li>
</ul>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVQoz32S3W/SYBjF+4/rjXe7MPGKhMDihReamGwJSyTBQMaGTplsUD5aoEDX8tEPRtn4pvCzrasKQ5/kpG/bPOc9zzmPIIoiyWSSQqFAIpEgm82Sz+cplUr4tdls2G63O/ArfO6XsF6vmc/nAfzmxWKBJElUKhUsyzrY9C+ygHD/w3K5JJVKET8+RvaI/Wb/0hCu6z4p/aXcFxHCfxcO3bJx1wwHOmK57CmtcnN7y9XVN4rFYkD4vxLWqxVDy2Q0tNHaCmNnhG0atKUy96MRutpCbTXpePB9VlUV27Oir99h9HQ0tR1YJNfrzGYzhLJYJBZ5g2MbGE0RpSby+uiIVy9f8DYeo60oSGURrdMmk8kQj8e5uMgiVys0alWq3hQnJ6dEo1EuLy8R8rU6sbMUy7XLxvPaGY/5nD4nnf3qpf0Do6vR7RseBoHCuixjmibmcITUUDDte3S9S6PRQNO0Px66nm+WbaO2W2ilL9jyNROrS7Op0JFEb9QOPY90Mpv/9tm3i73EhTCpsAb9PoPz96hnEcbVHM5kzk1Zol/5jvjpHa3sKcuH4W6If6cc7tR0Og3GdRdTxnqDR1NntVryMHZwHr1/nQrXHyMo6Q8sHOtpHzfPFl0I1fnp5XK5wI+a3ORO7+0u87PzlkPr/RPwbzWn3w3/TgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="SpringMVC    "
        title="SpringMVC    "
        src="/static/a334d9a7a302b9e26caee1c087a5138c/c1b63/SpringMVC%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D.png"
        srcset="/static/a334d9a7a302b9e26caee1c087a5138c/5a46d/SpringMVC%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D.png 300w,
/static/a334d9a7a302b9e26caee1c087a5138c/0a47e/SpringMVC%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D.png 600w,
/static/a334d9a7a302b9e26caee1c087a5138c/c1b63/SpringMVC%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D.png 1200w,
/static/a334d9a7a302b9e26caee1c087a5138c/a303f/SpringMVC%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D.png 1733w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>@Valid는 위의 과정 중에서 HandlerAdapter에서 Handler를 호출하는 과정에 동작하게 된다. 정확히 말하면 RequestMappingHandlerAdapter에서 ArgumentResolver를 통해 JSON타입의 데이터를 객체로 변환하는 과정에 동작을 하게 된다. 해당 과정에서 예외가 발생하면 Spring은 <code>MethodArgumentNotValidException</code>를 발생시킨다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 63.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMElEQVQ4y32T7U/aUBTG/U/3T5iYfTFZ9mX7ZLLPBPdl0WG2Gcg0iJLxMhFZHESZULAt5aXALFCaiLS0v13Ki6JxN3l62nvPeXKfc56uRaNRstks+/v7hEIh4vG4j3A4TDKZJBKJkE6lODw44DgW41zkxk9O2N3Z4UjUft7dxXEcpsvzPNZqtRqaptHtdjEMA0mSmO41Gg3qzSalSgVVnMt1TbyXUURsdtronQ5tUTONc7YZIf9ZlqpSzmSoCtyk0qinOapJ8Z06Qz47Qzo9Rc7lcCzr4YbenHkB13WX0b2/B8eGsc3dTZnb3FeMi2/0899xhBomE3E2xrPtVUK/eI4FsThm+px4rh9tu8evow2+BF5xk3vPxLX9fdeb5c1qeC7Ze0G+2VYxWldYRoVet0r71lytWxAOh0OkctmHruviSjauPRJS77GGJnq7jabKtGQJzxVqnImPWkOn2dL5KwZjmuaD5FQiwev1dd5ubvJha4tS8Yo/lwVKV5cU8r8JBoNsb39Eui4y0FUfVkejrlTZ29sjEAiQTqdXbXMs/PRDeC+XPcd2RZ8nnh/7AxNFkalUqlTV+opEXVMoFos+ZFl+IHzZNKvd7PRMBmZv3k+F0fz9aR9nUxbjfzrlpY2m1hDcd5bBxdEbMuENiol3jEfW1MtPnMFzHz6e2CL6t7J6FDIBEodbVPKfREvGy5zH+S9KXiTZ/T4j8Tuq4s+4jMZQ0j8pJVIMr68Zt1rPSP8BmK/JwGBo04IAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="handlerAdapter"
        title="handlerAdapter"
        src="/static/f6a9f8f1b7022c2e3accf98d92081a6e/c1b63/handlerAdapter.png"
        srcset="/static/f6a9f8f1b7022c2e3accf98d92081a6e/5a46d/handlerAdapter.png 300w,
/static/f6a9f8f1b7022c2e3accf98d92081a6e/0a47e/handlerAdapter.png 600w,
/static/f6a9f8f1b7022c2e3accf98d92081a6e/c1b63/handlerAdapter.png 1200w,
/static/f6a9f8f1b7022c2e3accf98d92081a6e/34431/handlerAdapter.png 1539w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>검증 어노테이션들은 이와 같이 Handler Adapter 처리 과정중에 동작을 하기에 아래와 같이 단순히 잘못된 값으로 객체를 생성하였을 때는 예외가 발생하지 않게 된다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Getter</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">NoArgsConstructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">AllArgsConstructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">SignUpRequest</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">NotBlank</span><span class="mtk4">(</span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;이메일은 빈 값일 수 없습니다.&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Email</span><span class="mtk4">(</span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;올바르지 않은 형식의 이메일입니다.&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> email</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">NotBlank</span><span class="mtk4">(</span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;이름은 빈 값일 수 없습니다.&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> name</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">NotBlank</span><span class="mtk4">(</span><span class="mtk7">message</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;비밀번호는 빈 값일 수 없습니다.&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> password</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">SignUpRequestTest</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Test</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">void</span><span class="mtk3"> validTest</span><span class="mtk1">()</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">String</span><span class="mtk1"> </span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;wrongEmailForm&quot;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">String</span><span class="mtk1"> </span><span class="mtk4">name</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;&quot;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">String</span><span class="mtk1"> </span><span class="mtk4">password</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;&quot;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">assertThatThrownBy</span><span class="mtk1">(() </span><span class="mtk9">-&gt;</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">SignUpRequest</span><span class="mtk1">(email, name, password))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                .</span><span class="mtk3">isInstanceOf</span><span class="mtk1">(</span><span class="mtk11">MethodArgumentNotValidException</span><span class="mtk1">.</span><span class="mtk4">class</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// 예외가 발생하지 않아서 Fail!!!!</span></span></span></code></pre>
<h1 id="6-valid에서-발생하는-exception-handling" style="position:relative;"><a href="#6-valid%EC%97%90%EC%84%9C-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-exception-handling" aria-label="6 valid에서 발생하는 exception handling permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. @Valid에서 발생하는 Exception Handling</h1>
<h2 id="61-exceptionhandler-사용" style="position:relative;"><a href="#61-exceptionhandler-%EC%82%AC%EC%9A%A9" aria-label="61 exceptionhandler 사용 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.1. ExceptionHandler 사용</h2>
<p>앞서 말했듯이 <code>@Valid</code>에서 검증을 하는 도중 잘못된 매개변수 값이 발견된다면 <code>MethodArgumentNotValidException</code>이 발생하게 된다. 중복코드 없이 가장 간단하게 예외를 잡는 방법은 <code>@ControllerAdvice</code>에서 <code>@ExceptionHandler</code>를 통해 예외를 잡는 방법이다.</p>
<p>해당 방법을 코드로 표현하면 다음과 같다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">RestControllerAdvice</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">GlobalControllerAdvice</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">ExceptionHandler</span><span class="mtk4">(</span><span class="mtk11">MethodArgumentNotValidException</span><span class="mtk1">.</span><span class="mtk4">class)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk11">ResponseEntity</span><span class="mtk1">&lt;</span><span class="mtk11">ErrorResponse</span><span class="mtk1">&gt;</span><span class="mtk3"> handleMethodArgumentNotValidException</span><span class="mtk1">(</span><span class="mtk11">MethodArgumentNotValidException</span><span class="mtk1"> </span><span class="mtk4 mtki">e</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">StringBuilder</span><span class="mtk1"> </span><span class="mtk4">message</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">StringBuilder</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">for</span><span class="mtk1"> (</span><span class="mtk11">FieldError</span><span class="mtk1"> </span><span class="mtk4">error</span><span class="mtk1"> </span><span class="mtk9">:</span><span class="mtk1"> </span><span class="mtk11">e</span><span class="mtk1">.</span><span class="mtk3">getFieldErrors</span><span class="mtk1">()) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">message</span><span class="mtk1">.</span><span class="mtk3">append</span><span class="mtk1">(</span><span class="mtk11">error</span><span class="mtk1">.</span><span class="mtk3">getDefaultMessage</span><span class="mtk1">()).</span><span class="mtk3">append</span><span class="mtk1">(</span><span class="mtk6">&quot; &quot;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">ResponseEntity</span><span class="mtk1">.</span><span class="mtk3">badRequest</span><span class="mtk1">().</span><span class="mtk3">body</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">ErrorResponse</span><span class="mtk1">(</span><span class="mtk11">message</span><span class="mtk1">.</span><span class="mtk3">toString</span><span class="mtk1">()));</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>일반적으로 ExceptionHandler에서 예외에 담긴 메시지를 꺼낼 때는 <code>e.getMessage()</code>를 사용한다. 하지만 위의 코드에서는 <code>e.getMessage()</code>를 통해 메시지를 꺼내지 않고 <code>e.getFieldErrors()</code>, <code>e.getDafaultMessage()</code>를 사용하는 등의 다소 복잡한 로직들이 작성되었다.</p>
<p>이와 같이 메시지를 꺼내는 로직이 복잡한 이유는 아래와 같다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1175px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVQoz3WSSXLbMBBFebNULFEkRhIDJzEVOfEiLnudhdc++PdvUFJYTrJ41Q30gB5QTcnhaRoRY0ZIAzpKHxJCHpGnGcO8YFpW6stmp60LcZMxoae/6BKTxhmVsRrPS8YlTViGCbYLqFuN1jg02ha5sdN398oSypMyODYKlbYGv+YBj6wo5ggXAlwf0afMF6dSlVQR4lZ1L+cdtzuJkWIqZTS+DwEjL3PenBwNxvfFQbuuIOeb/hnjO1jaxad6aDTO2TFpZgJJsjlsbEldH8ojd3i2V5vEuCJDiWFChXnw+MH2upTQdB41Z1Qbj5avN9YX2iK7IuX+JDOkrq7IPDVldWDCn1HhNUWsoceahIBvocPEuS2cZYFzHFhBzyVEBiYuyds/Se8JW63xNhi89Q6vncFLsHjSNS7HL/B1DcsH/am9Y5oWjrKnVEQKOu6onFN4Po+sZoSSJRDF+RxaU5yFh3/w9Wo7fk744g94Dxq/vcLkHQbncbEWK1ta2dKZjGxldWyVNiWb5fmG2sO2qykY/sGMKBuWzUqFu6/SlOH/vYD/8QFDRqW2hk9iGQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="validException"
        title="validException"
        src="/static/0d96829c9555041d8b671f8595c73175/0d40b/validException.png"
        srcset="/static/0d96829c9555041d8b671f8595c73175/5a46d/validException.png 300w,
/static/0d96829c9555041d8b671f8595c73175/0a47e/validException.png 600w,
/static/0d96829c9555041d8b671f8595c73175/0d40b/validException.png 1175w"
        sizes="(max-width: 1175px) 100vw, 1175px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>보통 우리가 <code>new IllegalArgumentException(”예외 메시지”);</code>와 같이 예외를 발생시키면 해당 예외 메시지는 defaultMessage에 위치하여 <code>e.getMessage()</code>를 통해 추출할 수 있었다. 하지만 validation annotation을 통해 지정한 예외 메시지는 해당 위치가 아닌 errors-e[]-defaultMessage에 위치하게 된다. 이 때문에 우리는 에러 메시지를 추출하기 위해서는 <code>e.getMessage()</code>가 아닌 <code>e.getFieldErrors()</code>를 통해 errors에 접근하고 이를 순회하며 <code>e.getDafaultMessage()</code>를 통해 예외 메시지를 출력하는 로직을 작성하여야 한다.</p>
<h2 id="62-컨트롤러-메서드에서-잡기" style="position:relative;"><a href="#62-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EC%97%90%EC%84%9C-%EC%9E%A1%EA%B8%B0" aria-label="62 컨트롤러 메서드에서 잡기 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.2. 컨트롤러 메서드에서 잡기</h2>
<p><code>@ExceptionHandler</code>가 아닌 컨트롤러의 메서드 내에서도 예외를 바로 잡을 수 있다. <code>Errors</code> 또는 <code>BindingResult</code>를 매개변수로 두면 따로 예외가 발생하지 않는다. 해당 파라미터에 에러 내용이 담기게 된다. 우리는 <code>getAllErrors()</code>, <code>hasErrors()</code>와 같은 메서드를 통해 예외에 따른 Response를 만들 수 있다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">RestController</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">MemberController</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">PostMapping</span><span class="mtk4">(</span><span class="mtk6">&quot;/user&quot;</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk11">ResponseEntity</span><span class="mtk3"> user</span><span class="mtk1">(@</span><span class="mtk11">Valid</span><span class="mtk1"> @</span><span class="mtk11">RequestBody</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> </span><span class="mtk4 mtki">user</span><span class="mtk1">, </span><span class="mtk11">BindingResult</span><span class="mtk1"> </span><span class="mtk4 mtki">bindingResult</span><span class="mtk1">){</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">if</span><span class="mtk1">(</span><span class="mtk11">bindingResult</span><span class="mtk1">.</span><span class="mtk3">hasErrors</span><span class="mtk1">()){</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">StringBuilder</span><span class="mtk1"> </span><span class="mtk4">sb</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">StringBuilder</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">bindingResult</span><span class="mtk1">.</span><span class="mtk3">getAllErrors</span><span class="mtk1">().</span><span class="mtk3">forEach</span><span class="mtk1">(objectError </span><span class="mtk9">-&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk11">FieldError</span><span class="mtk1"> </span><span class="mtk4">field</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> (FieldError) objectError;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk11">String</span><span class="mtk1"> </span><span class="mtk4">message</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk11">objectError</span><span class="mtk1">.</span><span class="mtk3">getDefaultMessage</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk11">System</span><span class="mtk1">.</span><span class="mtk11">out</span><span class="mtk1">.</span><span class="mtk3">println</span><span class="mtk1">(</span><span class="mtk6">&quot;Field : &quot;</span><span class="mtk8">+</span><span class="mtk1"> </span><span class="mtk11">field</span><span class="mtk1">.</span><span class="mtk3">getField</span><span class="mtk1">());</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk11">System</span><span class="mtk1">.</span><span class="mtk11">out</span><span class="mtk1">.</span><span class="mtk3">println</span><span class="mtk1">(message);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk11">sb</span><span class="mtk1">.</span><span class="mtk3">append</span><span class="mtk1">(</span><span class="mtk6">&quot;Field : &quot;</span><span class="mtk8">+</span><span class="mtk1"> </span><span class="mtk11">field</span><span class="mtk1">.</span><span class="mtk3">getField</span><span class="mtk1">());</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk11">sb</span><span class="mtk1">.</span><span class="mtk3">append</span><span class="mtk1">(</span><span class="mtk6">&quot;message: &quot;</span><span class="mtk8">+</span><span class="mtk1">message);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                </span><span class="mtk11">sb</span><span class="mtk1">.</span><span class="mtk3">append</span><span class="mtk1">(</span><span class="mtk6">&quot;</span><span class="mtk8">\\</span><span class="mtk6">n</span><span class="mtk8">\\</span><span class="mtk6">n&quot;</span><span class="mtk1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            });</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">ResponseEntity</span><span class="mtk1">.</span><span class="mtk3">status</span><span class="mtk1">(</span><span class="mtk11">HttpStatus</span><span class="mtk1">.</span><span class="mtk4">BAD_REQUEST</span><span class="mtk1">).</span><span class="mtk3">body</span><span class="mtk1">(</span><span class="mtk11">sb</span><span class="mtk1">.</span><span class="mtk3">toString</span><span class="mtk1">());</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">ResponseEntity</span><span class="mtk1">.</span><span class="mtk3">ok</span><span class="mtk1">(user);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<h1 id="7-dto에서는-valid로-어디까지-검증해야할까" style="position:relative;"><a href="#7-dto%EC%97%90%EC%84%9C%EB%8A%94-valid%EB%A1%9C-%EC%96%B4%EB%94%94%EA%B9%8C%EC%A7%80-%EA%B2%80%EC%A6%9D%ED%95%B4%EC%95%BC%ED%95%A0%EA%B9%8C" aria-label="7 dto에서는 valid로 어디까지 검증해야할까 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7. DTO에서는 @Valid로 어디까지 검증해야할까?</h1>
<p>Valid를 통해 DTO에서 어디까지 검증을 해야할지에 대한 주제는 우아한테크코스 내에서도 뜨거운 감자였다. 저 또한 해당 내용에 대해 리뷰어와 여러 크루들에게 질문도 했었습니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 708px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 45.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWElEQVQoz41S2W7CQAzM//9cuUlCQk5y34hAkMjU45S+VWWl0dra9Xh8GJ7nw7JP+Fqt4bhnnBwXh6OJo2lhej7B83q9MM/zRzCG6xVlWaFpWlR1jaqqUVbity3qusE0LaQL8azkf0EJsywXVQ48P4ArCs+epyp98S3bVtLb7YZxHPHJMS5JiiAMhchXwviSII4vWn4YRnB+WsD3SpQnaap33TRaSZ4XyPIcFPaYJhhhFGkwydyzp7ZpWWIv9wJb1VL5bn/Qnu8PR01knxzkRaFkWjI/rtYb/cBBWBK82e4U681WCfj+/kOf/7a7vfqm2H4QapV9P8Cg5CiKtYcsi73zfP/X582S2q5DPwxo2w5d12MQu+979WsZJltwlQEbLInZ2S/2jogEgfgKyc6E7F1RlDqkNMu0TG6HboSQcUPG+51DSVRummaKolyCOsn+XiH6DKDK/843nIKgBMcckJgAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="valid    "
        title="valid    "
        src="/static/67f99c3f4a918e016de272f081956b29/3cb0f/valid%EC%82%AC%EC%9A%A9%EB%B2%94%EC%9C%84.png"
        srcset="/static/67f99c3f4a918e016de272f081956b29/5a46d/valid%EC%82%AC%EC%9A%A9%EB%B2%94%EC%9C%84.png 300w,
/static/67f99c3f4a918e016de272f081956b29/0a47e/valid%EC%82%AC%EC%9A%A9%EB%B2%94%EC%9C%84.png 600w,
/static/67f99c3f4a918e016de272f081956b29/3cb0f/valid%EC%82%AC%EC%9A%A9%EB%B2%94%EC%9C%84.png 708w"
        sizes="(max-width: 708px) 100vw, 708px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>여러 사람들과 해당 주제로 이야기를 나누다보니 여러 의견이 있었습니다. 지금 생각나는 의견들을 몇개 적어보면 아래와 같습니다.</p>
<p>Q: 비밀번호의 대소문자, 특수문자, 숫자 포함과 같은 제약 조건들도 DTO에서 검증하는 것이 좋을까?</p>
<p>A:</p>
<ul>
<li>🙆🏻: <code>@Valid</code>를 사용하면 서비스 레이어로 내려오기 이전에 검증을 할 수 있어서 잘못된 요청이 왔을 때 컨트롤러 단에서 끊어내어 자원을 아낄 수 있어서 검증을 하는 것이 좋을 것 같다. 하지만 DTO에서 검증을 한다고 도메인의 검증 로직을 제거해도 되는것은 아니다. Password 조건과 같은 내용들은 도메인이 가져야할 제약 조건이라 도메인의 안정성을 위해 도메인에서도 검증을 하여야 한다. (2중 검증)</li>
<li>🙅🏻: 해당 기능을 사용하면 확실히 컨트롤러 단에서 끊어낼 수 있다는 이점이 있다. 하지만 해당 조건은 도메인의 제약조건이기에 DTO가 아닌 도메인이 갖는 것이 맞다. 물론 DTO와 password에서 2중 검증을 할 수도 있지만 이러한 경우, Password의 제약조건에 변경이 생기게 된다면 도메인과 이를 사용하는 모든 DTO에서 수정이 필요할 것이다. 이와 같이 유지보수성 측면에서 좋지 않다!!</li>
</ul>
<p>코드 작성에 정답은 없지만 여러 이야기를 나누며 저는 아래와 같은 Valid의 사용 기준을 정하였습니다.</p>
<ul>
<li>DTO에서는 <code>@Email</code>, <code>@NotBlank</code>와 같이 요구사항 변경이 있어도 코드 상의 변경이 없을 최소한의 검증만 진행한다. (<code>@Email</code>의 경우 도메인에서도 검증 필요)</li>
<li>Password와 같은 도메인 제약조건은 DTO에서 검증을 하는 것이 아닌 도메인에서 검증을 한다.</li>
</ul>
<p>해당 사용 기준은 개발을 하면서도 계속 변경이 있을 수 있으나 일단은 앞서 말한 기준으로 개발을 진행해나가려 합니다😁</p>
<h1 id="reference" style="position:relative;"><a href="#reference" aria-label="reference permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference</h1>
<ul>
<li><a href="https://fastcampus.co.kr/dev_online_javaend">Fast Campas - 한번에 끝내는 Java/Spring 웹 개발 마스터 초격차 패키지 Online.</a></li>
<li><a href="https://hyeran-story.tistory.com/81">Spring Validation Annotation 총정리</a></li>
<li><a href="https://bepoz-study-diary.tistory.com/413">[Spring] @Validated vs @Valid</a></li>
<li><a href="https://www.baeldung.com/spring-boot-bean-validation">Validation in Spring Boot</a></li>
<li><a href="https://www.baeldung.com/javax-validation">Java Bean Validation Basics</a></li>
<li><a href="https://jyami.tistory.com/55">@Valid 를 이용해 @RequestBody 객체 검증하기</a></li>
</ul>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .one-dark-pro {
    background-color: #282c34;
    color: #abb2bf;
  }
  .one-dark-pro .mtki { font-style: italic; }
  .one-dark-pro .mtk1 { color: #ABB2BF; }
  .one-dark-pro .mtk4 { color: #E06C75; }
  .one-dark-pro .mtk6 { color: #98C379; }
  .one-dark-pro .mtk7 { color: #D19A66; }
  .one-dark-pro .mtk9 { color: #C678DD; }
  .one-dark-pro .mtk11 { color: #E5C07B; }
  .one-dark-pro .mtk3 { color: #61AFEF; }
  .one-dark-pro .mtk8 { color: #56B6C2; }
  .one-dark-pro .mtk5 { color: #7F848E; }
  .one-dark-pro .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></div></div></div><div class="css-1bdwg0l etadk2t0"><div><style data-emotion-css="17t5ffy">.css-17t5ffy{margin-top:1rem;margin-bottom:1rem;}</style><div class="css-17t5ffy"><div class="css-1l4w6pd"><div class="css-yapsbb"></div></div></div><style data-emotion-css="i1cgbm">.css-i1cgbm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin-top:1rem;padding-left:0.5rem;padding-right:0.5rem;}</style><div class="css-i1cgbm"><style data-emotion-css="16k19ub">.css-16k19ub{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#2D87FD;}</style><button class="css-16k19ub"><style data-emotion-css="u7tj59">.css-u7tj59{fill:currentColor;margin-top:auto;margin-bottom:auto;margin-right:0.25rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 320 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg>Share with <!-- -->Facebook</button><style data-emotion-css="9nr5sz">.css-9nr5sz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#1CA1F2;}</style><button class="css-9nr5sz"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>Share with <!-- -->Twitter</button><style data-emotion-css="rk0yc0">.css-rk0yc0{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#6E7783;}</style><button class="css-rk0yc0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg>Share with <!-- -->Url</button></div></div><style data-emotion-css="14e3tt2">.css-14e3tt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-left:0.5rem;padding-right:0.5rem;}</style><div class="css-14e3tt2"><style data-emotion-css="1cwag5x">.css-1cwag5x{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#FF813E;}</style><a target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/seongwon" class="css-1cwag5x"><style data-emotion-css="9u48bm">.css-9u48bm{margin-right:0.5rem;}</style><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee" class="css-9u48bm"/><span>Buy me a coffee</span></a></div></div></div></div><div class="css-1bdwg0l etadk2t0"><style data-emotion-css="17t1oy1">.css-17t1oy1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap-reverse;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;margin-left:0.5rem;margin-right:0.5rem;margin-top:1rem;}@media (min-width:768px){.css-17t1oy1{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}}</style><div class="css-17t1oy1 eazp2vb0"><style data-emotion-css="1pwr1ry">.css-1pwr1ry{width:100%;margin:0.5rem;}@media (min-width:768px){.css-1pwr1ry{width:50%;margin:1rem;}}</style><div class="css-1pwr1ry eazp2vb1"><style data-emotion-css="vl2eok">.css-vl2eok{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);text-align:left;width:100%;height:100%;padding:0.5rem;background-color:#eee;border-radius:0.25rem;border-left-width:4px;border-color:#86a8e7;}.css-vl2eok:hover{background-color:#ddd;}</style><a rel="prev" class="css-vl2eok" href="/Spring/2022-06-21-Controller와RestController차이/"><style data-emotion-css="19o7xeo">.css-19o7xeo{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;margin-right:1rem;margin-left:0.5rem;height:100%;}</style><div class="css-19o7xeo"><style data-emotion-css="11za1ik">.css-11za1ik{width:2rem;height:2rem;margin-top:auto;margin-bottom:auto;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-11za1ik" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"></path></svg></div><style data-emotion-css="v38or">.css-v38or{display:inline-block;margin-top:0.5rem;margin-bottom:0.5rem;}</style><div class="css-v38or"><style data-emotion-css="2m7hin">.css-2m7hin{color:#3737B9;}</style><p class="css-2m7hin">이전 포스트</p><p>[Spring] @RestController와 @Controller 비교하기</p></div></a></div><div class="css-1pwr1ry eazp2vb1"><style data-emotion-css="xhvfnc">.css-xhvfnc{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);text-align:right;width:100%;height:100%;padding:0.5rem;background-color:#eee;border-radius:0.25rem;border-right-width:4px;border-color:#86a8e7;}.css-xhvfnc:hover{background-color:#ddd;}</style><a rel="next" class="css-xhvfnc" href="/Spring/2022-06-23-SpringBootTest어노테이션-학습하기/"><div class="css-v38or"><p class="css-2m7hin">다음 포스트</p><p>[Spring 테스트] @SpringBootTest를 이용해 통합 테스트하기</p></div><div class="css-19o7xeo"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-11za1ik" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"></path></svg></div></a></div></div><style data-emotion-css="14yohw7">.css-14yohw7{width:100%;max-width:768px;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto;padding-top:2rem;margin-top:0.5rem;margin-bottom:1rem;}@media (min-width:768px){.css-14yohw7{padding-left:0;padding-right:0;padding-top:3rem;}}</style><div class="css-14yohw7 e1b6rdiw0"><style data-emotion-css="180ky7f">.css-180ky7f{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:0.5rem;padding-right:0.5rem;}@media (min-width:768px){.css-180ky7f{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}</style><div class="css-180ky7f e1b6rdiw1"><style data-emotion-css="p5b1u1">.css-p5b1u1{border-radius:9999px;border-width:1px;--border-opacity:1;border-color:rgba(214,188,250,var(--border-opacity));margin-right:2rem;margin-bottom:0.5rem;}@media (min-width:768px){.css-p5b1u1{margin-bottom:1rem;}}</style><div class="css-p5b1u1 gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:128px;height:128px"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE50lEQVQ4y0WU+U/TdxjHq86ZzB9mXLYscYvLZjymcU4TN4/oyMRr4sSbdSKnomIRszEZbg4QuQ+BUm7aUsollBYKpVAKlEMQ5HbqpmZzLvtx2T/w2tMvoL/2m74+z/N+3u+3KvmGhnJtPLX6VAac5Twba+bJqJUnI008uWfh9+FGfhtq4NFgPQ/6apjqqWLCXcn9Tj3DjlIGWorotRTQVZ9HR00Oqp9iwjHo4tHlxGEsTmC4Q89TgXlB88DHd+/wcKCWGU81k91VjHcZXwHtRXiaCnDfyaOzVoARoce4dSMSW1U6bfU5OBtzBdTIs9Emnt33TuqFNgi0fg5qFqiJ0Y6KOWChALUKsKMmG1VooB/GokRGXSam5PXB1mL5g5HpXhPTst50j4lJt5GJLgPjMtVIeykjIo13wqG2Elm5kN6mfFk5dxa4ffvHmMtu8s+DTgbtZbSbs+RDJtkJkcRGfcuPmgCuhn/Nze/PkvjdWX6+eobOuhzGXHruyuP9zTp6LHm46m7jrM5CtXvbKgyFifw50SZrGHE35gs0jaS4c0SEHiVEvR/1sd2cPbWH4ABfgk770lyZwrgAvfr12QroFpleArd9uhKLKZu/ppyMdhplfJ0AM0i+fh7N+ZOEBx4k8IQPoQIL+2Yv4fKA3ZQqK5fTL+t6rFoF6J263Qv0272OLmuxArwvOnqshbhFj2tRaiJC/LkQ7EfIaR/CAvZwTr2XiMADtIskI85SPC06BehuuK1c2FEjQM3xrfQ5ynk+6WTcbcZjExtY8kn4IZhL544SduYgqz9awVvLl7Fm1XsEnfTBUpbAPTmOx5qv6Nd1J0d0z6KtKgPVJf8tDDr1PJcJJ3tqGGwplsvpuBUXRlTEcU75+6BSLWDJ4sUsXLiQQ3u2YK1IZKi1SGC5orlMV5cl62ZiF+upLh7ZzLDLqEw4JcC7rSVy7UKyEyPRCDDoxJesXbGMg5tWot65jgjR0l4lqWoWMzfk4KoXV9Rm4BDdW0xpqKJOfs6EJODFdAfTnlrFCt7XtSnRXA4/KkfYR+Dhz6hMi+Kx+DHu0nGs+iT6bdo5WCbOmnQcMl1zZSqqYL8tPJIkvJjpZKavTjHrcHsJurSrRF84weWwwxzz/QRzykWGqpPw37eDZmOKpEOiVpc5C5R1HaKf93fVoR2rmemvUYC/DjSI2GVKGkqzYggKOMD6dR+y/M2lWOPVuNJDWL92A3lJV0QWLc7aeaAcxJSOzSBA360fMOAo4e8HLgU44qzgYZ+Z+JhQFixazGuvv8G7b79DdJg/PWLiC0EBZP2iEVMXzK2bKb7NpLUyjWZ9Mqpdm96nW+Lz3x8jUgYOxrpMPB+3iQ+DWLRkKds3b+T66S+IDT/Cv49biYsOl4NFiam1c8AMZV27MXUW+NWuNdIwOfQ4ixiUOE0P1Eli9DKNjm7x5GBbqdRVuXjUwES3gR7xntsiVnl5kFdAmxd4JnAjsTf2k54ViNuuo7IgjoQYKYD6bJ7eaxArSVV1VjAksvQKzCPN0m3JVQ6iXNcstSd2aRH9bBW3xNianZjLYxmR2CXHBRGm9qE0M0auXaaU6ZjLMNd9JUr3zZaBtIs86J2wvTqNVsl2i2FuZW1SpPgnieKMi1zT+JOXfAWrIUPCb1Dq3tvOL4Ets8D5uM0mJF258LyG/wMQ4lRaLX4Z6QAAAABJRU5ErkJggg==" alt="profileImg" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/88a66867dae51fb125504f10c9702215/2c344/profile.png 1x,
/static/88a66867dae51fb125504f10c9702215/f20a7/profile.png 1.5x,
/static/88a66867dae51fb125504f10c9702215/714e6/profile.png 2x" /><img loading="lazy" width="128" height="128" srcset="/static/88a66867dae51fb125504f10c9702215/2c344/profile.png 1x,
/static/88a66867dae51fb125504f10c9702215/f20a7/profile.png 1.5x,
/static/88a66867dae51fb125504f10c9702215/714e6/profile.png 2x" src="/static/88a66867dae51fb125504f10c9702215/2c344/profile.png" alt="profileImg" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div><span>Written by </span><style data-emotion-css="1t4jyca">.css-1t4jyca{display:inline-block;font-size:1.25rem;font-weight:700;border-radius:9999px;margin-bottom:0.5rem;padding-left:0.75rem;padding-right:0.75rem;--bg-opacity:1;background-color:rgba(237,242,247,var(--bg-opacity));color:#3737B9;}</style><p class="css-1t4jyca">@<!-- -->Seongwon</p><style data-emotion-css="vg2p6i">.css-vg2p6i{font-size:0.875rem;font-weight:400;margin-bottom:0.5rem;}</style><div class="css-vg2p6i">열심히 성장중인 우테코 4기 BE 렉스입니다 🦖</div></div></div><style data-emotion-css="1air669">.css-1air669{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:0.5rem;margin-right:0.5rem;}</style><div class="css-1air669"><div class="css-yapsbb"></div></div><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><a title="github Link" href="https://github.com/Seongwon97" class="css-1baulvz"><style data-emotion-css="vnd1fq">.css-vnd1fq{width:2rem;height:2rem;margin-top:1rem;margin-left:1rem;-webkit-transition:all 300ms cubic-bezier(0,0,0.2,1);transition:all 300ms cubic-bezier(0,0,0.2,1);color:#888;}.css-vnd1fq:hover{color:#000;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-vnd1fq" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a title="facebook Link" href="https://www.facebook.com/profile.php?id=100004105792447" class="css-1baulvz"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-vnd1fq" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></a></div><style data-emotion-css="18jj1tc">.css-18jj1tc{margin-top:1.25rem;margin-left:0.5rem;margin-right:0.5rem;}</style><div class="css-18jj1tc"><div class="utterances"></div></div></div></div><style data-emotion-css="xgi74q">.css-xgi74q{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;bottom:0;right:0;padding-right:1.5rem;padding-bottom:1.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><div class="css-xgi74q el51cds0"><style data-emotion-css="1a68u">.css-1a68u{box-shadow:0 2px 2px 0 rgba(0,0,0,0.15);-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#636363;font-size:0.75rem;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:9999px;--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;-webkit-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));-ms-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-content:flex-end;-ms-flex-line-pack:end;align-content:flex-end;z-index:100;}.css-1a68u:hover{background-color:#404040;color:#FFFFFF;}.css-1a68u:hover{--transform-scale-x:1.05;--transform-scale-y:1.05;}</style><button title="change to darkmode" class="css-1a68u"><style data-emotion-css="1alqh2e">.css-1alqh2e{fill:currentColor;--text-opacity:1;color:rgba(246,224,94,var(--text-opacity));width:1rem;height:1rem;margin-top:auto;margin-bottom:auto;margin-left:0;margin-right:0;}@media (min-width:768px){.css-1alqh2e{display:inline-block;margin-left:0.25rem;margin-right:0.25rem;}}</style><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="css-1alqh2e" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg><style data-emotion-css="flxr9x">.css-flxr9x{display:none;margin-right:0;}@media (min-width:768px){.css-flxr9x{display:inline-block;margin-right:0.25rem;}}</style><span class="css-flxr9x">다크 모드로 보기</span></button><style data-emotion-css="15afv4q">.css-15afv4q{box-shadow:0 2px 2px 0 rgba(0,0,0,0.15);-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#636363;font-size:0.75rem;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:9999px;--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;-webkit-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));-ms-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));cursor:pointer;margin-left:0.5rem;margin-top:auto;margin-bottom:auto;z-index:100;}.css-15afv4q:hover{background-color:#404040;color:#FFFFFF;}.css-15afv4q:hover{--transform-scale-x:1.05;--transform-scale-y:1.05;}</style><button title="top page" class="css-15afv4q"><style data-emotion-css="13htjwu">.css-13htjwu{width:1rem;height:1rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-13htjwu" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"></path></svg></button></div><style data-emotion-css="1k8xcyw">.css-1k8xcyw{text-align:center;padding-top:2rem;padding-bottom:2rem;bottom:0;}</style><footer class="css-1k8xcyw"><style data-emotion-css="1xju3od">.css-1xju3od{font-size:0.75rem;font-weight:700;}</style><a href="https://github.com/Seongwon97" class="css-1xju3od">©SeongwonOh</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-176158326-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/Spring/2022-06-22-Valid란/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2f72579fb641bf14a0fa.js"],"app":["/app-a7357771ecd5ee9dba56.js"],"component---src-pages-404-js":["/component---src-pages-404-js-7c870a7d2887aec81e13.js"],"component---src-pages-index-js":["/component---src-pages-index-js-00adaf82f0b474dbba85.js"],"component---src-pages-search-js":["/component---src-pages-search-js-0bd0fa40581866873b37.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-c13fb2d53b7ec5e4b38f.js"],"component---src-templates-category-js":["/component---src-templates-category-js-7ced1e41f0af300d999b.js"]};/*]]>*/</script><script src="/polyfill-2f72579fb641bf14a0fa.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-c13fb2d53b7ec5e4b38f.js" async=""></script><script src="/7a297f752dcfe258c0b0106d89edb3a916af916e-35686b2093ef54ff3248.js" async=""></script><script src="/commons-b806c452faf7cf32e6ea.js" async=""></script><script src="/1bfc9850-409296e666dade882413.js" async=""></script><script src="/5e2a4920-da90abce4a08c86a094c.js" async=""></script><script src="/d7eeaac4-dcbe97e7a5aa158c9d08.js" async=""></script><script src="/app-a7357771ecd5ee9dba56.js" async=""></script><script src="/dc6a8720040df98778fe970bf6c000a41750d3ae-17eb047fb821ccbad0b0.js" async=""></script><script src="/styles-84a9bc99193fe5828ffe.js" async=""></script><script src="/framework-eb684e3e828ad13b3940.js" async=""></script><script src="/webpack-runtime-23a124539972f1f6bd94.js" async=""></script></body></html>